(self.webpackChunkdrill4j_github_io=self.webpackChunkdrill4j_github_io||[]).push([[9933],{7298:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return p},metadata:function(){return s},toc:function(){return d},default:function(){return m}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l=n(549),o=n(6742),p={id:"drill4net-apps",title:"Drill4Net Applications"},s={unversionedId:"drill4net/drill4net-apps",id:"drill4net/drill4net-apps",isDocsHomePage:!1,title:"Drill4Net Applications",description:"This web page provides an overview of Drill4Net Scanner and Drill4Net Injector applications,",source:"@site/docs/drill4net/drill4net-apps.mdx",sourceDirName:"drill4net",slug:"/drill4net/drill4net-apps",permalink:"/docs/drill4net/drill4net-apps",version:"current",frontMatter:{id:"drill4net-apps",title:"Drill4Net Applications"},sidebar:"docs",previous:{title:"Builds Summary",permalink:"/docs/api/builds-summary"},next:{title:"One Time Setup",permalink:"/docs/drill4net/one-time-setup"}},d=[{value:"Drill4Net Scanner",id:"drill4net-scanner",children:[{value:"1. Overview",id:"1-overview",children:[]},{value:"2. Download",id:"2-download",children:[]},{value:"3. Configuration",id:"3-configuration",children:[]},{value:"4. Usage",id:"4-usage",children:[]}]},{value:"Drill4Net Injector",id:"drill4net-injector",children:[{value:"1. Overview",id:"1-overview-1",children:[]},{value:"2. Download",id:"2-download-1",children:[]},{value:"3. Configuration",id:"3-configuration-1",children:[]},{value:"4. Usage",id:"4-usage-1",children:[]}]}],u={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This web page provides an overview of ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," and ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector")," applications,\ntheir purposes, how to configure and utilize these applications for maximum benefit.\nSee ",(0,i.kt)(o.Z,{to:"/docs/drill4net/quick-start-guide",target:"_blank",mdxType:"Link"},"quick start guide")," to learn how you can use these\napplications together to minimize your regression suite."),(0,i.kt)("h2",{id:"drill4net-scanner"},"Drill4Net Scanner"),(0,i.kt)("h3",{id:"1-overview"},"1. Overview"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," is a console application developed to process ",(0,i.kt)("em",{parentName:"p"},"application under test")," assemblies so that it will be\nable to communicate with ",(0,i.kt)("em",{parentName:"p"},"Drill4J Admin"),". ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," is also responsible for collecting code coverage\nand all the required information for analyzing risks (methods changed sinse the last build) and tests that should\nrun to cover these risks."),(0,i.kt)("h3",{id:"2-download"},"2. Download"),(0,i.kt)("p",null,"Download ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner (drill4net-scanner)")," for your system ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Drill4J/dotnet-releases/releases"},"here"),"."),(0,i.kt)("h3",{id:"3-configuration"},"3. Configuration"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," application can be configured using appsettings.yml file which can be found in ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," directoty.\nTable below describes each setting."),(0,i.kt)(l.iA,{mdxType:"Table"},(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Setting"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"adminAgentConfig:id")),(0,i.kt)("td",{parentName:"tr",align:null},'Arbitrary agent name. Example: "test_app_1". If you are using microservices architecture you will need to run Drill4Net Scanner for each microservice and provide config value for each of them.')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"adminAgentConfig:serviceGroupId")),(0,i.kt)("td",{parentName:"tr",align:null},'Arbitrary microservices group identifier to group microservices together. Example: "group_1". Leave this value blank if you are not using microservices architecture.')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"adminAgentConfig:buildVersion")),(0,i.kt)("td",{parentName:"tr",align:null},'Version of the build. Should be updated for every new build. Example: "0.0.1".')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"communicatorUrl")),(0,i.kt)("td",{parentName:"tr",align:null},"Communication URL of Drill4J Admin back-end.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"coverageCollectionSettings:  schedulerDelayInterval")),(0,i.kt)("td",{parentName:"tr",align:null},"Interval in seconds indicating how often code coverage data is sent to the Drill4J Admin. The default value is 10 seconds.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"coverageCollectionSettings:  collectInitProcessesCoverage")),(0,i.kt)("td",{parentName:"tr",align:null},"Specifies whether to collect coverage for initial processes (Background jobs, Initialization, Cron). The default value is false.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"supportedTechnologies")),(0,i.kt)("td",{parentName:"tr",align:null},"An array of supported technologies in application under test. Currently, the only available value is ",(0,i.kt)("strong",{parentName:"td"},"HttpClient"),"."))))),(0,i.kt)("p",null,"Example of the ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," appsettings.yml:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"adminAgentConfig:\n  id: 'appId-1'\n  serviceGroupId: ''\n  buildVersion: '0.0.1'\ncommunicatorUrl: 'http://localhost:8090'\n\ncoverageCollectionSettings:\n  schedulerDelayInterval: 10 \n  collectInitProcessesCoverage: false\n\nsupportedTechnologies:\n  - HttpClient\n")),(0,i.kt)("h3",{id:"4-usage"},"4. Usage"),(0,i.kt)("p",null,"You can run ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Scanner")," as you would run any other console application.\nThere are two required arguments:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Directory with binaries of application under test"),(0,i.kt)("li",{parentName:"ul"},"Application under test executable (",(0,i.kt)("inlineCode",{parentName:"li"},"--target"),")\nExample for Windows:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'start Drill4Net.Scanner.exe "d:\\Builds\\AppUnderTest\\bin\\Release\\netcoreapp3.1" \\\n  --target "d:\\Builds\\AppUnderTest\\bin\\Release\\netcoreapp3.1\\ApplicationUnderTest.exe"\n')),(0,i.kt)("p",null,"There are also optional parameters described ",(0,i.kt)(o.Z,{to:"/docs/drill4net/drill4net-scanner-parameters",target:"_blank",mdxType:"Link"},"here"),"."),(0,i.kt)("h2",{id:"drill4net-injector"},"Drill4Net Injector"),(0,i.kt)("h3",{id:"1-overview-1"},"1. Overview"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector")," is a console application developed to process ",(0,i.kt)("em",{parentName:"p"},"assemblies with tests")," so that it will be able\nto send all the required information about tests to Drill4J Admin."),(0,i.kt)("h3",{id:"2-download-1"},"2. Download"),(0,i.kt)("p",null,"Download ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector (drill4net-injector-app)")," for your system ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Drill4J/dotnet-releases/releases"},"here"),"."),(0,i.kt)("h3",{id:"3-configuration-1"},"3. Configuration"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector")," application can be configured using drill4netsettings.yml file which can be found in ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector")," directoty.\nTable below describes each setting."),(0,i.kt)(l.iA,{mdxType:"Table"},(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Setting"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Settings:Client")),(0,i.kt)("td",{parentName:"tr",align:null},"Integration tests client. Currently only HTTP client is supported, so this setting should be ",(0,i.kt)("strong",{parentName:"td"},"HttpClient"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Settings:TestAssemblySourcePath")),(0,i.kt)("td",{parentName:"tr",align:null},"Path to the assembly with tests, including filename. This value can also be specified as a command line argument to the Drill4Net Injector.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"AdminAgentConfig:Id")),(0,i.kt)("td",{parentName:"tr",align:null},'Arbitrary agent name. Example: "test_app_1". Leave this value blank if you are using a microservices architecture.')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"AdminAgentConfig:ServiceGroupId")),(0,i.kt)("td",{parentName:"tr",align:null},'Arbitrary microservices group identifier to group microservices together. Example: "group_1". Leave this value blank if you are using a monolithic architecture.')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"AdminAgentConfig:BuildVersion")),(0,i.kt)("td",{parentName:"tr",align:null},'Version of the build. Should be updated for every new build. Example: "0.0.1".')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"CommunicatorUrl")),(0,i.kt)("td",{parentName:"tr",align:null},"Communication URL of Drill4J Admin back-end.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Serilog:*")),(0,i.kt)("td",{parentName:"tr",align:null},"Logger settings. Detailed information about Serilog configuration is available ",(0,i.kt)("a",{parentName:"td",href:"https://github.com/serilog/serilog-settings-configuration"},"here"),". Note: not all settings are available as we may not have required Serilog package for specific functionality."))))),(0,i.kt)("p",null,"Note that values of ",(0,i.kt)("inlineCode",{parentName:"p"},"AdminAgentConfig:Id"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"AdminAgentConfig:ServiceGroupId"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"AdminAgentConfig:BuildVersion")," and\n",(0,i.kt)("inlineCode",{parentName:"p"},"CommunicatorUrl")," should be same as in appsettings.yml of ",(0,i.kt)(o.Z,{to:"#3-configuration",target:"_blank",mdxType:"Link"},"Drill4Net Scanner"),".\nExample of the drill4netsettings.yml:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Settings:\n  Client: HttpClient\n  TestAssemblySourcePath: d:\\Builds\\AppUnderTest.Tests\\netcoreapp3.1\\AppUnderTest.Tests.dll\n\nSerilog:\n  Using:\n    - Serilog.Sinks.Console\n    - Serilog.Sinks.File\n  MinimumLevel: Debug\n  WriteTo:\n    - Name: Console\n    - Name: File\n      Args:\n        path: Logs/Drill4Net.Injector.App_.txt\n        rollingInterval: Day\n\nAdminAgentConfig:\n  Id: 'appId-1'\n  BuildVersion: '0.0.1'\n  ServiceGroupId: ''\nCommunicatorUrl: 'http://localhost:8090'\n")),(0,i.kt)("h3",{id:"4-usage-1"},"4. Usage"),(0,i.kt)("p",null,"You can run ",(0,i.kt)("em",{parentName:"p"},"Drill4Net Injector")," as you would run any other console application. Example for Windows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"start Drill4Net.Injector.App.exe\n")),(0,i.kt)("p",null,"You can also provide ",(0,i.kt)("inlineCode",{parentName:"p"},"TestAssemblySourcePath")," argument. In this case, value from drill4netsettings.yml will be overriden. Example for Windows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'start Drill4Net.Injector.App.exe "d:\\Builds\\AppUnderTest.Tests\\netcoreapp3.1\\AppUnderTest.Tests.dll"\n')))}m.isMDXComponent=!0}}]);