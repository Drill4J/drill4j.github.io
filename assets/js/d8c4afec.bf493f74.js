(self.webpackChunkdrill4j_github_io=self.webpackChunkdrill4j_github_io||[]).push([[9508],{2296:function(e,t,a){"use strict";a.d(t,{r0:function(){return c},Ct:function(){return g},jL:function(){return f},Zb:function(){return m},u0:function(){return me},JO:function(){return p},Ee:function(){return N},kI:function(){return R},dl:function(){return J},HC:function(){return M},Wl:function(){return se},E1:function(){return oe},Nt:function(){return W},iA:function(){return P},v3:function(){return z}});var n,l,r,i=a(7294),o="additionalInformation_3spC",c=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return i.createElement("p",{className:o+" "+n},t)},s=a(4996),p=function(e){var t=e.src,a=e.width,n=void 0===a?16:a,l=e.height,r=void 0===l?16:l,o=e.className;return i.createElement("span",{className:o,style:{backgroundImage:"url("+(0,s.Z)(t)+")",minWidth:n+"px",minHeight:r+"px",display:"inline-block"}})},u="card_3fnR",m=function(e){var t=e.children,a=e.iconSrc,n=e.href;return i.createElement("a",{href:(0,s.Z)(n),className:u,rel:"noreferrer"},i.createElement(p,{src:a,width:48,height:48}),i.createElement("span",null,t))},d=a(2122),h=a(9756),g=function(e){var t=e.color,a=void 0===t?"#687481":t,n=e.children,l=(0,h.Z)(e,["color","children"]);return i.createElement("span",(0,d.Z)({className:"inline-block px-2 text-14 leading-24 bg-monochrome-light-tint rounded-lg",style:{color:a}},l),n)},f=function(e){var t=e.backgroundSrc,a=e.children,n=(0,h.Z)(e,["backgroundSrc","children"]);return i.createElement("div",(0,d.Z)({className:"py-14 px-5 text-center bg-cover",style:{backgroundImage:"url("+(0,s.Z)(t)+")"}},n),a)},k=a(2879),v={color:"#a9a9a9",fontSize:"14px",marginBottom:"15px"},b={width:"400px",marginBottom:"10px"},N=function(e){var t=e.src,a=e.alt,n=(0,i.useState)(!1),l=n[0],r=n[1];return i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement("img",{className:"cursor-pointer",src:(0,s.Z)(t),onClick:function(){return r(!0)},alt:a,style:b}),l&&i.createElement(k.Z,{mainSrc:(0,s.Z)(t),onCloseRequest:function(){return r(!1)},enableZoom:!1,imagePadding:48}),i.createElement("p",{style:v},a))},y=a(1839);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var x,E=function(e){var t=e.title,a=e.titleId,o=w(e,["title","titleId"]);return i.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":a},o),t?i.createElement("title",{id:a},t):null,n||(n=i.createElement("rect",{opacity:.8,width:24,height:24,rx:4,fill:"#687481"})),l||(l=i.createElement("path",{d:"M10.871 13.766l-.407.407-.982.982-1.184 1.184-1.027 1.027c-.166.165-.328.335-.498.497l-.007.007c-.167.167-.473.18-.637 0a.457.457 0 010-.636l.407-.407.982-.982 1.184-1.184 1.027-1.027c.166-.165.328-.335.498-.497l.007-.007c.167-.167.473-.18.637 0 .165.18.179.46 0 .636zm6.999-6.997l-.409.408-.976.976-1.187 1.188-1.022 1.021c-.167.168-.33.338-.5.5l-.008.008c-.167.167-.474.18-.639 0a.459.459 0 010-.639l.409-.408.976-.976 1.187-1.188 1.022-1.021c.167-.168.33-.338.5-.5l.008-.008c.167-.167.474-.18.639 0a.46.46 0 010 .639zm-7.636 4.102l-.407-.407-.982-.982L7.66 8.298 6.634 7.271c-.165-.166-.335-.328-.497-.498l-.007-.007c-.167-.167-.18-.473 0-.637a.457.457 0 01.636 0l.407.407.982.982L9.34 8.702l1.027 1.027c.165.166.335.328.497.498l.007.007c.167.167.18.473 0 .637a.457.457 0 01-.636 0zm6.997 7.001l-.408-.409-.976-.977-1.188-1.187-1.021-1.022c-.168-.168-.338-.33-.5-.5l-.008-.008c-.167-.168-.18-.475 0-.64a.459.459 0 01.639 0l.408.409.976.977 1.188 1.188 1.021 1.021c.168.168.338.33.5.501l.008.008c.167.167.18.474 0 .639a.462.462 0 01-.639 0z",fill:"#fff"})),r||(r=i.createElement("path",{d:"M6.953 13.477v4.046l-.476-.476h4.046c.25 0 .488.219.477.476a.484.484 0 01-.477.477H6.477A.483.483 0 016 17.523v-4.046c0-.25.22-.488.477-.477.259.011.476.21.476.477zM13.477 6h4.046c.258 0 .477.218.477.477v4.046c0 .25-.22.488-.477.477a.484.484 0 01-.476-.477V6.477l.476.476h-4.046c-.25 0-.488-.219-.477-.476A.485.485 0 0113.477 6zm-2.954.953H6.477l.476-.476v4.046c0 .25-.219.488-.476.477A.484.484 0 016 10.523V6.477C6 6.219 6.218 6 6.477 6h4.046c.25 0 .488.22.477.477a.485.485 0 01-.477.476zM18 13.477v4.046a.483.483 0 01-.477.477h-4.046c-.25 0-.488-.22-.477-.477a.484.484 0 01.477-.476h4.046l-.476.476v-4.046c0-.25.219-.488.476-.477.258.011.477.21.477.477z",fill:"#fff"})))};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var A=function(e){var t=e.title,a=e.titleId,n=S(e,["title","titleId"]);return i.createElement("svg",C({width:36,height:36,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?i.createElement("title",{id:a},t):null,x||(x=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.71 25.264a1.003 1.003 0 00-.001 1.415.997.997 0 001.412.002l7.073-7.073 7.07 7.07c.39.39 1.024.391 1.415.001a.997.997 0 00.002-1.412l-7.073-7.073 7.07-7.07c.39-.39.391-1.024.001-1.415a.997.997 0 00-1.412-.002l-7.073 7.073-7.07-7.07a1.003 1.003 0 00-1.414 0 .997.997 0 00-.002 1.412l7.073 7.073-7.07 7.07z"})))},D="table_EoDL",I="customScroll_2cyn",j="expandedTable_1nfl",P=function(e){var t=e.columns,a=void 0===t?[]:t,n=e.children,l=(0,i.useState)(!1),r=l[0],o=l[1],c=(0,i.useState)(!1),s=c[0],p=c[1],u=(0,i.useRef)(null);return(0,y.Z)(r),(0,i.useEffect)((function(){var e=u&&u.current;var t=new ResizeObserver((function(){e&&p(e.offsetHeight-e.clientHeight>0)}));return t.observe(e),function(){t.disconnect(e)}}),[u]),(0,i.useLayoutEffect)((function(){if(u.current&&null!=a&&a.length){var e=u.current.children[0];e.style.tableLayout="fixed";var t=document.createElement("colgroup");null==a||a.forEach((function(e){var a=document.createElement("col");return a.width=e,a.span=1,t.appendChild(a),a})),e.prepend(t)}}),[]),i.createElement("div",{className:D+" relative mb-4"},s&&i.createElement("button",{className:"absolute top-2 right-2 z-10","aria-label":"open expanded table button",type:"button",onClick:function(){return o(!0)}},i.createElement(E,null)),i.createElement("div",{ref:u,className:I},n),s&&i.createElement("div",{className:"fixed inset-0 z-50 transition-all duration-300 "+(r?"opacity-100":"opacity-0 invisible")},i.createElement("div",{className:"relative z-10 flex items-center justify-end h-12 pr-7 bg-monochrome-black bg-opacity-90"},i.createElement("button",{type:"button","aria-label":"close expanded table button",className:"flex items-center justify-center w-9 h-9 text-monochrome-medium-tint hover:text-monochrome-white",onClick:function(){return o(!1)}},i.createElement(A,{className:"fill-current cursor-pointer"}))),i.createElement("div",{className:"absolute inset-0 bg-monochrome-black opacity-60",onClick:function(){return o(!1)}}),i.createElement("div",{className:j+" "+I},n)))},Z="listItem_qKEr",O="listItem_content_1vAz",M=function(e){var t=e.children,a=e.number;return i.createElement("div",{className:Z},i.createElement("div",null,a),i.createElement("div",{className:O},t))},J=function(){return i.createElement("div",{className:"flex flex-col items-center"},i.createElement("h3",{className:"text-center"},"We are using a RealWorld app examples:"),i.createElement("div",{className:"flex gap-x-6 mb-12 text-16 leading-20"},i.createElement("div",{className:"flex justify-center items-center gap-x-3 leading-20"},i.createElement("img",{style:{marginBottom:0},src:(0,s.Z)("imgs/spring-logo.svg"),alt:"spring-logo"}),i.createElement("span",{className:"flex flex-col"},"Backend:\xa0",i.createElement("a",{className:"leading-20",href:"https://github.com/gothinkster/spring-boot-realworld-example-app",target:"_blank",rel:"noreferrer noopener"},"Spring"))),i.createElement("div",{className:"flex justify-center items-center"},i.createElement("img",{style:{marginBottom:0},src:(0,s.Z)("imgs/plus.svg"),alt:"plus"})),i.createElement("div",{className:"flex justify-center items-center gap-x-3"},i.createElement("img",{style:{marginBottom:0},src:(0,s.Z)("imgs/angular-logo.svg"),alt:"angular-logo"}),i.createElement("span",{className:"flex flex-col leading-20"},"Frontend:\xa0",i.createElement("a",{className:"leading-20",href:"https://github.com/gothinkster/angular-realworld-example-app",target:"_blank",rel:"noreferrer noopener"},"Angular")))))},T=a(6010),L="wrapper_2S3f",z=function(e){var t=e.children;return i.createElement("div",{className:(0,T.Z)(L,"flex gap-x-3 py-4 px-4 mb-4","rounded-lg bg-orange-default bg-opacity-5","text-monochrome-default text-16 leading-24")},i.createElement(p,{src:"imgs/warning.svg",width:16,height:16,className:"mt-1 h-4 text-orange-default"}),i.createElement("div",null,t))},B="wrapper_1vbA",R=function(e){var t=e.children;return i.createElement("div",{className:(0,T.Z)(B,"flex gap-x-3 py-5 px-4 mb-4","rounded-lg bg-blue-default bg-opacity-5","text-monochrome-default text-16 leading-24")},i.createElement(p,{src:"imgs/info.svg",width:16,height:16,className:"mt-1 h-4 text-orange-default"}),i.createElement("div",null,t))},U=a(5035),q="tableOfContents_1zbr",F="table-of-contents__link";function H(e){var t=e.toc,a=e.isChild;return t.length?i.createElement("ul",{className:a?"":"table-of-contents table-of-contents__left-border"},t.map((function(e){return i.createElement("li",{key:e.id},i.createElement("a",{href:"#"+e.id,className:F,dangerouslySetInnerHTML:{__html:e.value},title:e.value}),i.createElement(H,{isChild:!0,toc:e.children}))}))):null}function W(e){var t=e.toc;return(0,U.Z)(F,"table-of-contents__link--active",100),i.createElement("div",{className:(0,T.Z)(q,"thin-scrollbar")},i.createElement(H,{toc:t}))}var K=a(3935),V=a(2263),Y=a(5977),G=a(6742),X=a(9105),Q=a(6397),$=a(7052),ee=a(6747),te=a(5613),ae=a(4973),ne=null;function le(e){var t=e.hit,a=e.children;return i.createElement(G.Z,{to:t.url},a)}function re(e){var t=e.state,a=e.onClose,n=(0,Q.Z)().generateSearchPageLink;return i.createElement(G.Z,{to:n(t.query),onClick:a},"See all ",t.context.nbHits," results")}function ie(e){var t,n,l=e.contextualSearch,r=e.closeDocsSidebar,o=(0,h.Z)(e,["contextualSearch","closeDocsSidebar"]),c=(0,V.default)().siteMetadata,p=(0,te.Z)(),u=null!=(t=null==(n=o.searchParameters)?void 0:n.facetFilters)?t:[],m=l?[].concat(p,u):u,g=Object.assign({},o.searchParameters,{facetFilters:m}),f=(0,s.C)().withBaseUrl,k=(0,Y.k6)(),v=(0,i.useRef)(null),b=(0,i.useRef)(null),N=(0,i.useState)(!1),y=N[0],_=N[1],w=(0,i.useState)(null),x=w[0],E=w[1],C=(0,i.useCallback)((function(){return ne?Promise.resolve():Promise.all([a.e(3763).then(a.bind(a,3763)),Promise.all([a.e(532),a.e(6945)]).then(a.bind(a,6945)),Promise.all([a.e(532),a.e(4628)]).then(a.bind(a,4628))]).then((function(e){var t=e[0].DocSearchModal;ne=t}))}),[]),S=(0,i.useCallback)((function(){C().then((function(){v.current=document.createElement("div"),document.body.insertBefore(v.current,document.body.firstChild),_(!0)}))}),[C,_]),A=(0,i.useCallback)((function(){r(),_(!1),v.current.remove()}),[_]),D=(0,i.useCallback)((function(e){C().then((function(){_(!0),E(e.key)}))}),[C,_,E]),I=(0,i.useRef)({navigate:function(e){var t=e.itemUrl;k.push(t)}}).current,j=(0,i.useRef)((function(e){return e.map((function(e){var t=document.createElement("a");return t.href=e.url,Object.assign({},e,{url:f(""+t.pathname+t.hash)})}))})).current,P=(0,i.useMemo)((function(){return function(e){return i.createElement(re,(0,d.Z)({},e,{onClose:A}))}}),[A]),Z=(0,i.useCallback)((function(e){return e.addAlgoliaAgent("docusaurus",c.docusaurusVersion),e}),[c.docusaurusVersion]);(0,$.D)({isOpen:y,onOpen:S,onClose:A,onInput:D,searchButtonRef:b});var O=(0,ae.I)({id:"theme.SearchBar.label",message:"Search",description:"The ARIA label and placeholder for search button"});return i.createElement(i.Fragment,null,i.createElement(X.Z,null,i.createElement("link",{rel:"preconnect",href:"https://"+o.appId+"-dsn.algolia.net",crossOrigin:"anonymous"})),i.createElement(ee.a,{onTouchStart:C,onFocus:C,onMouseOver:C,onClick:S,ref:b,translations:{buttonText:O,buttonAriaLabel:O}}),y&&(0,K.createPortal)(i.createElement(ne,(0,d.Z)({onClose:A,initialScrollY:window.scrollY,initialQuery:x,navigator:I,transformItems:j,hitComponent:le,resultsFooterComponent:P,transformSearchClient:Z},o,{searchParameters:g})),v.current))}var oe=function(e){var t=e.closeDocsSidebar,a=(0,V.default)().siteConfig;return i.createElement(ie,(0,d.Z)({},a.themeConfig.algolia,{closeDocsSidebar:t}))},ce=a(3424);ce.Z.initialize({startOnLoad:!0});var se=function(e){var t=e.chart;return(0,i.useEffect)((function(){ce.Z.contentLoaded()}),[]),i.createElement("div",{className:"mermaid"},t)},pe=a(7694),ue=a(4544),me=function(e){var t=e.language,a=e.children,n="string"==typeof a?a.trim():"";return i.createElement(ue.ZP,(0,d.Z)({},ue.lG,{theme:pe.Z,code:n,language:t}),(function(e){var t=e.className,a=e.style,n=e.tokens,l=e.getLineProps,r=e.getTokenProps;return i.createElement("pre",{className:t,style:a},n.map((function(e,t){return i.createElement("div",l({line:e,key:t}),e.map((function(e,t){return i.createElement("span",r({token:e,key:t}))})))})))}))}},7664:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return o},metadata:function(){return c},toc:function(){return s},default:function(){return u}});var n=a(2122),l=a(9756),r=(a(7294),a(3905)),i=a(2911),o=(a(2296),{id:"local-deployment",title:"Local Deployment"}),c={unversionedId:"getting-started/local-deployment",id:"version-0.9.0/getting-started/local-deployment",isDocsHomePage:!1,title:"Local Deployment",description:"This page will walk you through:",source:"@site/versioned_docs/version-0.9.0/getting-started/local-deployment.mdx",sourceDirName:"getting-started",slug:"/getting-started/local-deployment",permalink:"/docs/getting-started/local-deployment",version:"0.9.0",frontMatter:{id:"local-deployment",title:"Local Deployment"},sidebar:"version-0.9.0/docs",previous:{title:"What is Drill4J",permalink:"/docs/what-is-drill4j"},next:{title:"Metabase Dashboards",permalink:"/docs/getting-started/metabase"}},s=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Deploy Core Drill4J Services",id:"deploy-core-drill4j-services",children:[]},{value:"Check Services Availability",id:"check-services-availability",children:[{value:"Troubleshooting",id:"troubleshooting",children:[]}]},{value:"Generate API Key",id:"generate-api-key",children:[]},{value:"Setup Java Agent",id:"setup-java-agent",children:[]},{value:"Inspect Metrics",id:"inspect-metrics",children:[]},{value:"Next Steps and Further Reading",id:"next-steps-and-further-reading",children:[]}],p={toc:s};function u(e){var t=e.components,o=(0,l.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This page will walk you through:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Running core Drill4J Services"),(0,r.kt)("li",{parentName:"ol"},"Drill4J Agent configuration steps to collect metrics for your Java application.")),(0,r.kt)("p",null,"It assumes you're running all services on your local machine."),(0,r.kt)("p",null,"It's a good starting point to get familiar with Drill4J. For installation and configuration in your actual development and testing environments, refer to the additional documentation (links at the bottom of the page)."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.docker.com/"},"Docker")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/"},"Docker Compose")),(0,r.kt)("li",{parentName:"ol"},"The current release supports ",(0,r.kt)("inlineCode",{parentName:"li"},"x64")," but not ",(0,r.kt)("inlineCode",{parentName:"li"},"arm"),"-based machines. Specifically, it won\u2019t work on Apple Silicon CPUs (M-series). Support for ARM-based machines is being worked on.")),(0,r.kt)("h2",{id:"deploy-core-drill4j-services"},"Deploy Core Drill4J Services"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download the following files and put them in the empty folder:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{target:"_blank",href:a(1286).Z},"docker-compose.yml")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{target:"_blank",href:a(7020).Z},".env")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"db-init")," folder next to ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download ",(0,r.kt)("inlineCode",{parentName:"p"},"data.sql")," from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Drill4J/drill-metabase-dashboards/releases/tag/v18"},"https://github.com/Drill4J/drill-metabase-dashboards/releases/tag/v18")," and place in ",(0,r.kt)("inlineCode",{parentName:"p"},"db-init")," folder")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Your folder structure should match the following:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"- docker-compose.yml\n- .env\n- db-init/data.sql\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open terminal in this folder and execute:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  docker-compose up -d\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Wait for docker-compose to download images and launch containers."))),(0,r.kt)("h2",{id:"check-services-availability"},"Check Services Availability"),(0,r.kt)("p",null,"To make sure everything is working:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"http://localhost:8090/"},"Drill4J Admin Backend")," must return "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'  {\n    "message": "Drill4J Admin Backend"\n  }\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"http://localhost:8091"},"Drill4J UI")," must display  authentication form."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Default credentials: user: ",(0,r.kt)("inlineCode",{parentName:"li"},"admin")," password: ",(0,r.kt)("inlineCode",{parentName:"li"},"admin"),"."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"http://localhost:8095"},"Metabase")," must display Metabase UI authentication form."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Default credentials: user: ",(0,r.kt)("inlineCode",{parentName:"li"},"user@user.user")," password: ",(0,r.kt)("inlineCode",{parentName:"li"},"useruser1")),(0,r.kt)("li",{parentName:"ul"},"After you login to Metabase UI you should see ",(0,r.kt)("inlineCode",{parentName:"li"},'"Builds"')," dashboard being available in Bookmarks section")))),(0,r.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("p",null,"Skip this section if you experience no problems"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"I don't see the Metabase authentication form and instead presented with this message:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'"Welcome to Metabase - Looks like everything is working. Now let\u2019s get to know you, connect to your data, and start finding you some answers!\n')),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Reason: Metabase was not propertly initalized. You likely have either skipped downloading ",(0,r.kt)("inlineCode",{parentName:"li"},"data.sql")," file or misplaced it. Make sure to put it in ",(0,r.kt)("inlineCode",{parentName:"li"},"db-init")," folder next to the ",(0,r.kt)("inlineCode",{parentName:"li"},"docker-compose.yml")," file. ")))),(0,r.kt)("h2",{id:"generate-api-key"},"Generate API Key"),(0,r.kt)("p",null,"Drill4J Backend authenticates incoming data using API keys. To generate new API key:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open Drill4J UI ",(0,r.kt)("a",{parentName:"li",href:"http://localhost:8091/my-api-keys"},"My API Keys")," section "),(0,r.kt)("li",{parentName:"ol"},'At the top of the page, enter description for the new key and click "Generate" button.'),(0,r.kt)("li",{parentName:"ol"},"New API key row must appear in the table."),(0,r.kt)("li",{parentName:"ol"},"The actual key value is copied to your clipboard. Paste it somewhere safe for the next step.")),(0,r.kt)("h2",{id:"setup-java-agent"},"Setup Java Agent"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download the Drill4J Java Agent release zip file using the link: "),(0,r.kt)("a",{href:"https://github.com/Drill4J/java-agent/releases/tag/v"+i.Hl}," ","https://github.com/Drill4J/java-agent/releases/tag/v"+i.Hl," "),(0,r.kt)("p",{parentName:"li"},"Pick the release appropriate for your platform (",(0,r.kt)("inlineCode",{parentName:"p"},"mingwx64")," - Windows; Mac and Linux are called correspondingly)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Unzip the file. Change the release-specific folder name (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"linuxX64-0.9.1"),") to simply ",(0,r.kt)("inlineCode",{parentName:"p"},"agent"),". The folder must contain:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"- drill.properties\n- drill-runtime.jar\n- libdrill_agent.so # .dylib for Mac, drill_agent.dll for Windows\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Place this ",(0,r.kt)("inlineCode",{parentName:"p"},"agent")," folder next to ",(0,r.kt)("strong",{parentName:"p"},"your Java application")," ",(0,r.kt)("inlineCode",{parentName:"p"},".jar")," file")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"drill.properties")," file and set the following properties:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-properties"},'  drillApiUrl=http://localhost:8090/api\n\n  # Paste the API key value here\n  # Putting key in .properties file is _not_ the recommended way to handle API keys. See Java Agent documentation section for more info\n  drillApiKey= \n\n  # These properties identify your application in Drill4J.\n  # For now set to the following:\n  groupId=my-app\n  appId=backend\n  buildVersion=1.0.0\n\n  # IMPORTANT: make sure to set to actual name of your application\'s _topmost_ package\n  # replace "." with "/"\n  # Example: my.org.something.app -> my/org/something/app\n  packagePrefixes=\n\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Launch your application:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Considering your application is launched with"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  java -jar my-app.jar\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Change it to be"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Windows")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  java -agentpath:/agent/drill_agent.dll -jar my-app.jar\n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Linux")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  java -agentpath:/agent/libdrill_agent.so -jar my-app.jar\n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For Mac")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  java -agentpath:/agent/libdrill_agent.dylib -jar my-app.jar\n"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To confirm Drill4J Java Agent is running check your application log. There must be Drill4J ASCII art followed with agent version and log entry:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-log"},'  ____    ____                 _       _          _  _                _      \n |  _"\\U |  _"\\ u     ___     |"|     |"|        | ||"|            U |"| u   \n/| | | |\\| |_) |/    |_"_|  U | | u U | | u      | || |_          _ \\| |/    \nU| |_| |\\|  _ <       | |    \\| |/__ \\| |/__     |__   _|        | |_| |_,-. \n |____/ u|_| \\_\\    U/| |\\u   |_____| |_____|      /|_|\\          \\___/-(_/  \n  |||_   //   \\\\_.-,_|___|_,-.//  \\\\  //  \\\\      u_|||_u          _//       \n(__)_) (__)  (__)\\_)-\' \'-(_/(_")("_)(_")("_)     (__)__)         (__)  \nJava Agent (v0.9.1)\n[com.epam.drill.agent.Agent] agentOnLoad: Java Agent has been loaded.\n')))),(0,r.kt)("h2",{id:"inspect-metrics"},"Inspect Metrics"),(0,r.kt)("p",null,"In Metabase UI navigate to ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8095/dashboard/1-builds?group=&app="},"Builds Dashboard")),(0,r.kt)("p",null,"You should see Builds table containing a single entry, corresponding to your application."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click on the value of first column ",(0,r.kt)("inlineCode",{parentName:"p"},"my-app:backend:1.0.0")," and you should be taken to ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8095/dashboard/2?group=my-app&app=backend&build=my-app%3Abackend%3A1.0.0&baseline_build=&package_filter=*&class_filter=*"},"Build - Summary")," dashboard")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Scroll down to see application ",(0,r.kt)("em",{parentName:"p"},"Coverage")," metrics"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},'Some components will display "There was a problem displaying this chart". This is not an error and is expected.'),(0,r.kt)("p",{parentName:"blockquote"},"This is due to the fact you have to complete additional configuration in order to see complete metrics."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click on piecharts to navigate to detailed coverage dashboards  "))),(0,r.kt)("p",null,"Try interacting with your application (execute some tests, call API endpoints) and then check back to Metabase UI to see how your application coverage % changes."),(0,r.kt)("h2",{id:"next-steps-and-further-reading"},"Next Steps and Further Reading"),(0,r.kt)("p",null,"This guide covered the basics of deploying Drill4J Services and the Application Agent, which gives you basic ",(0,r.kt)("em",{parentName:"p"},"Coverage")," metrics."),(0,r.kt)("p",null,"For more advanced metrics, integrate Drill4J with your tests. For more details, check out the additional documentation:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/tests-integration/api-tests"},"API tests integration"))))}u.isMDXComponent=!0},1286:function(e,t,a){"use strict";t.Z=a.p+"assets/files/docker-compose-cea4504537afebed904b235ab3d1c06f.yml"},7020:function(e,t,a){"use strict";t.Z=a.p+"assets/files/drill-f932def4a9335e0b0f3b85d7262f0b88.env"},2911:function(e){"use strict";e.exports=JSON.parse('{"Hl":"0.9.9","_2":"0.23.8","ns":"0.1.10","lv":"0.9.16","ui":"0.1.3","mR":"0.9.8"}')}}]);