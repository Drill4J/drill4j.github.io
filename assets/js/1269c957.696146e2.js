(self.webpackChunkdrill4j_github_io=self.webpackChunkdrill4j_github_io||[]).push([[4416],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return u},kt:function(){return g}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=c(t),g=r,p=d["".concat(s,".").concat(g)]||d[g]||m[g]||l;return t?a.createElement(p,i(i({ref:n},u),{},{components:t})):a.createElement(p,i({ref:n},u))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var c=2;c<l;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4966:function(e,n,t){"use strict";t.d(n,{r0:function(){return s},Ct:function(){return f},jL:function(){return v},Zb:function(){return d},u0:function(){return de},JO:function(){return u},Ee:function(){return y},kI:function(){return B},dl:function(){return z},HC:function(){return L},Wl:function(){return ce},E1:function(){return oe},Nt:function(){return U},iA:function(){return T},v3:function(){return R}});var a,r,l,i=t(7294),o="additionalInformation_3spC",s=function(e){var n=e.children,t=e.className,a=void 0===t?"":t;return i.createElement("p",{className:o+" "+a},n)},c=t(4996),u=function(e){var n=e.src,t=e.width,a=void 0===t?16:t,r=e.height,l=void 0===r?16:r,o=e.className;return i.createElement("span",{className:o,style:{backgroundImage:"url("+(0,c.Z)(n)+")",minWidth:a+"px",minHeight:l+"px",display:"inline-block"}})},m="card_3fnR",d=function(e){var n=e.children,t=e.iconSrc,a=e.href;return i.createElement("a",{href:(0,c.Z)(a),className:m,rel:"noreferrer"},i.createElement(u,{src:t,width:48,height:48}),i.createElement("span",null,n))},g=t(2122),p=t(9756),f=function(e){var n=e.color,t=void 0===n?"#687481":n,a=e.children,r=(0,p.Z)(e,["color","children"]);return i.createElement("span",(0,g.Z)({className:"inline-block px-2 text-14 leading-24 bg-monochrome-light-tint rounded-lg",style:{color:t}},r),a)},v=function(e){var n=e.backgroundSrc,t=e.children,a=(0,p.Z)(e,["backgroundSrc","children"]);return i.createElement("div",(0,g.Z)({className:"py-14 px-5 text-center bg-cover",style:{backgroundImage:"url("+(0,c.Z)(n)+")"}},a),t)},h=t(2879),S={color:"#a9a9a9",fontSize:"14px",marginBottom:"15px"},b={width:"400px",marginBottom:"10px"},y=function(e){var n=e.src,t=e.alt,a=(0,i.useState)(!1),r=a[0],l=a[1];return i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement("img",{className:"cursor-pointer",src:(0,c.Z)(n),onClick:function(){return l(!0)},alt:t,style:b}),r&&i.createElement(h.Z,{mainSrc:(0,c.Z)(n),onCloseRequest:function(){return l(!1)},enableZoom:!1,imagePadding:48}),i.createElement("p",{style:S},t))},E=t(1839);function N(){return(N=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function k(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var A,x=function(e){var n=e.title,t=e.titleId,o=k(e,["title","titleId"]);return i.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":t},o),n?i.createElement("title",{id:t},n):null,a||(a=i.createElement("rect",{opacity:.8,width:24,height:24,rx:4,fill:"#687481"})),r||(r=i.createElement("path",{d:"M10.871 13.766l-.407.407-.982.982-1.184 1.184-1.027 1.027c-.166.165-.328.335-.498.497l-.007.007c-.167.167-.473.18-.637 0a.457.457 0 010-.636l.407-.407.982-.982 1.184-1.184 1.027-1.027c.166-.165.328-.335.498-.497l.007-.007c.167-.167.473-.18.637 0 .165.18.179.46 0 .636zm6.999-6.997l-.409.408-.976.976-1.187 1.188-1.022 1.021c-.167.168-.33.338-.5.5l-.008.008c-.167.167-.474.18-.639 0a.459.459 0 010-.639l.409-.408.976-.976 1.187-1.188 1.022-1.021c.167-.168.33-.338.5-.5l.008-.008c.167-.167.474-.18.639 0a.46.46 0 010 .639zm-7.636 4.102l-.407-.407-.982-.982L7.66 8.298 6.634 7.271c-.165-.166-.335-.328-.497-.498l-.007-.007c-.167-.167-.18-.473 0-.637a.457.457 0 01.636 0l.407.407.982.982L9.34 8.702l1.027 1.027c.165.166.335.328.497.498l.007.007c.167.167.18.473 0 .637a.457.457 0 01-.636 0zm6.997 7.001l-.408-.409-.976-.977-1.188-1.187-1.021-1.022c-.168-.168-.338-.33-.5-.5l-.008-.008c-.167-.168-.18-.475 0-.64a.459.459 0 01.639 0l.408.409.976.977 1.188 1.188 1.021 1.021c.168.168.338.33.5.501l.008.008c.167.167.18.474 0 .639a.462.462 0 01-.639 0z",fill:"#fff"})),l||(l=i.createElement("path",{d:"M6.953 13.477v4.046l-.476-.476h4.046c.25 0 .488.219.477.476a.484.484 0 01-.477.477H6.477A.483.483 0 016 17.523v-4.046c0-.25.22-.488.477-.477.259.011.476.21.476.477zM13.477 6h4.046c.258 0 .477.218.477.477v4.046c0 .25-.22.488-.477.477a.484.484 0 01-.476-.477V6.477l.476.476h-4.046c-.25 0-.488-.219-.477-.476A.485.485 0 0113.477 6zm-2.954.953H6.477l.476-.476v4.046c0 .25-.219.488-.476.477A.484.484 0 016 10.523V6.477C6 6.219 6.218 6 6.477 6h4.046c.25 0 .488.22.477.477a.485.485 0 01-.477.476zM18 13.477v4.046a.483.483 0 01-.477.477h-4.046c-.25 0-.488-.22-.477-.477a.484.484 0 01.477-.476h4.046l-.476.476v-4.046c0-.25.219-.488.476-.477.258.011.477.21.477.477z",fill:"#fff"})))};function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function O(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var w=function(e){var n=e.title,t=e.titleId,a=O(e,["title","titleId"]);return i.createElement("svg",C({width:36,height:36,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),n?i.createElement("title",{id:t},n):null,A||(A=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.71 25.264a1.003 1.003 0 00-.001 1.415.997.997 0 001.412.002l7.073-7.073 7.07 7.07c.39.39 1.024.391 1.415.001a.997.997 0 00.002-1.412l-7.073-7.073 7.07-7.07c.39-.39.391-1.024.001-1.415a.997.997 0 00-1.412-.002l-7.073 7.073-7.07-7.07a1.003 1.003 0 00-1.414 0 .997.997 0 00-.002 1.412l7.073 7.073-7.07 7.07z"})))},P="table_EoDL",I="customScroll_2cyn",j="expandedTable_1nfl",T=function(e){var n=e.columns,t=void 0===n?[]:n,a=e.children,r=(0,i.useState)(!1),l=r[0],o=r[1],s=(0,i.useState)(!1),c=s[0],u=s[1],m=(0,i.useRef)(null);return(0,E.Z)(l),(0,i.useEffect)((function(){var e=m&&m.current;var n=new ResizeObserver((function(){e&&u(e.offsetHeight-e.clientHeight>0)}));return n.observe(e),function(){n.disconnect(e)}}),[m]),(0,i.useLayoutEffect)((function(){if(m.current&&null!=t&&t.length){var e=m.current.children[0];e.style.tableLayout="fixed";var n=document.createElement("colgroup");null==t||t.forEach((function(e){var t=document.createElement("col");return t.width=e,t.span=1,n.appendChild(t),t})),e.prepend(n)}}),[]),i.createElement("div",{className:P+" relative mb-4"},c&&i.createElement("button",{className:"absolute top-2 right-2 z-10","aria-label":"open expanded table button",type:"button",onClick:function(){return o(!0)}},i.createElement(x,null)),i.createElement("div",{ref:m,className:I},a),c&&i.createElement("div",{className:"fixed inset-0 z-50 transition-all duration-300 "+(l?"opacity-100":"opacity-0 invisible")},i.createElement("div",{className:"relative z-10 flex items-center justify-end h-12 pr-7 bg-monochrome-black bg-opacity-90"},i.createElement("button",{type:"button","aria-label":"close expanded table button",className:"flex items-center justify-center w-9 h-9 text-monochrome-medium-tint hover:text-monochrome-white",onClick:function(){return o(!1)}},i.createElement(w,{className:"fill-current cursor-pointer"}))),i.createElement("div",{className:"absolute inset-0 bg-monochrome-black opacity-60",onClick:function(){return o(!1)}}),i.createElement("div",{className:j+" "+I},a)))},_="listItem_qKEr",D="listItem_content_1vAz",L=function(e){var n=e.children,t=e.number;return i.createElement("div",{className:_},i.createElement("div",null,t),i.createElement("div",{className:D},n))},z=function(){return i.createElement("div",{className:"flex flex-col items-center"},i.createElement("h3",{className:"text-center"},"We are using a RealWorld app examples:"),i.createElement("div",{className:"flex gap-x-6 mb-12 text-16 leading-20"},i.createElement("div",{className:"flex justify-center items-center gap-x-3 leading-20"},i.createElement("img",{style:{marginBottom:0},src:(0,c.Z)("img/spring-logo.svg"),alt:"spring-logo"}),i.createElement("span",{className:"flex flex-col"},"Backend:\xa0",i.createElement("a",{className:"leading-20",href:"https://github.com/gothinkster/spring-boot-realworld-example-app",target:"_blank",rel:"noreferrer noopener"},"Spring"))),i.createElement("div",{className:"flex justify-center items-center"},i.createElement("img",{style:{marginBottom:0},src:(0,c.Z)("img/plus.svg"),alt:"plus"})),i.createElement("div",{className:"flex justify-center items-center gap-x-3"},i.createElement("img",{style:{marginBottom:0},src:(0,c.Z)("img/angular-logo.svg"),alt:"angular-logo"}),i.createElement("span",{className:"flex flex-col leading-20"},"Frontend:\xa0",i.createElement("a",{className:"leading-20",href:"https://github.com/gothinkster/angular-realworld-example-app",target:"_blank",rel:"noreferrer noopener"},"Angular")))))},Z=t(6010),M="wrapper_2S3f",R=function(e){var n=e.children;return i.createElement("div",{className:(0,Z.Z)(M,"flex gap-x-3 py-4 px-4 mb-4","rounded-lg bg-orange-default bg-opacity-5","text-monochrome-default text-16 leading-24")},i.createElement(u,{src:"img/warning.svg",width:16,height:16,className:"mt-1 h-4 text-orange-default"}),i.createElement("div",null,n))},F="wrapper_1vbA",B=function(e){var n=e.children;return i.createElement("div",{className:(0,Z.Z)(F,"flex gap-x-3 py-5 px-4 mb-4","rounded-lg bg-blue-default bg-opacity-5","text-monochrome-default text-16 leading-24")},i.createElement(u,{src:"img/info.svg",width:16,height:16,className:"mt-1 h-4 text-orange-default"}),i.createElement("div",null,n))},H=t(5035),q="tableOfContents_1zbr",G="table-of-contents__link";function V(e){var n=e.toc,t=e.isChild;return n.length?i.createElement("ul",{className:t?"":"table-of-contents table-of-contents__left-border"},n.map((function(e){return i.createElement("li",{key:e.id},i.createElement("a",{href:"#"+e.id,className:G,dangerouslySetInnerHTML:{__html:e.value},title:e.value}),i.createElement(V,{isChild:!0,toc:e.children}))}))):null}function U(e){var n=e.toc;return(0,H.Z)(G,"table-of-contents__link--active",100),i.createElement("div",{className:(0,Z.Z)(q,"thin-scrollbar")},i.createElement(V,{toc:n}))}var W=t(3935),X=t(2263),Y=t(5977),J=t(6742),K=t(9105),Q=t(6397),$=t(7052),ee=t(6747),ne=t(5613),te=t(4973),ae=null;function re(e){var n=e.hit,t=e.children;return i.createElement(J.Z,{to:n.url},t)}function le(e){var n=e.state,t=e.onClose,a=(0,Q.Z)().generateSearchPageLink;return i.createElement(J.Z,{to:a(n.query),onClick:t},"See all ",n.context.nbHits," results")}function ie(e){var n,a,r=e.contextualSearch,l=e.closeDocsSidebar,o=(0,p.Z)(e,["contextualSearch","closeDocsSidebar"]),s=(0,X.default)().siteMetadata,u=(0,ne.Z)(),m=null!=(n=null==(a=o.searchParameters)?void 0:a.facetFilters)?n:[],d=r?[].concat(u,m):m,f=Object.assign({},o.searchParameters,{facetFilters:d}),v=(0,c.C)().withBaseUrl,h=(0,Y.k6)(),S=(0,i.useRef)(null),b=(0,i.useRef)(null),y=(0,i.useState)(!1),E=y[0],N=y[1],k=(0,i.useState)(null),A=k[0],x=k[1],C=(0,i.useCallback)((function(){return ae?Promise.resolve():Promise.all([t.e(3763).then(t.bind(t,3763)),Promise.all([t.e(532),t.e(6945)]).then(t.bind(t,6945)),Promise.all([t.e(532),t.e(4628)]).then(t.bind(t,4628))]).then((function(e){var n=e[0].DocSearchModal;ae=n}))}),[]),O=(0,i.useCallback)((function(){C().then((function(){S.current=document.createElement("div"),document.body.insertBefore(S.current,document.body.firstChild),N(!0)}))}),[C,N]),w=(0,i.useCallback)((function(){l(),N(!1),S.current.remove()}),[N]),P=(0,i.useCallback)((function(e){C().then((function(){N(!0),x(e.key)}))}),[C,N,x]),I=(0,i.useRef)({navigate:function(e){var n=e.itemUrl;h.push(n)}}).current,j=(0,i.useRef)((function(e){return e.map((function(e){var n=document.createElement("a");return n.href=e.url,Object.assign({},e,{url:v(""+n.pathname+n.hash)})}))})).current,T=(0,i.useMemo)((function(){return function(e){return i.createElement(le,(0,g.Z)({},e,{onClose:w}))}}),[w]),_=(0,i.useCallback)((function(e){return e.addAlgoliaAgent("docusaurus",s.docusaurusVersion),e}),[s.docusaurusVersion]);(0,$.D)({isOpen:E,onOpen:O,onClose:w,onInput:P,searchButtonRef:b});var D=(0,te.I)({id:"theme.SearchBar.label",message:"Search",description:"The ARIA label and placeholder for search button"});return i.createElement(i.Fragment,null,i.createElement(K.Z,null,i.createElement("link",{rel:"preconnect",href:"https://"+o.appId+"-dsn.algolia.net",crossOrigin:"anonymous"})),i.createElement(ee.a,{onTouchStart:C,onFocus:C,onMouseOver:C,onClick:O,ref:b,translations:{buttonText:D,buttonAriaLabel:D}}),E&&(0,W.createPortal)(i.createElement(ae,(0,g.Z)({onClose:w,initialScrollY:window.scrollY,initialQuery:A,navigator:I,transformItems:j,hitComponent:re,resultsFooterComponent:T,transformSearchClient:_},o,{searchParameters:f})),S.current))}var oe=function(e){var n=e.closeDocsSidebar,t=(0,X.default)().siteConfig;return i.createElement(ie,(0,g.Z)({},t.themeConfig.algolia,{closeDocsSidebar:n}))},se=t(3424);se.Z.initialize({startOnLoad:!0});var ce=function(e){var n=e.chart;return(0,i.useEffect)((function(){se.Z.contentLoaded()}),[]),i.createElement("div",{className:"mermaid"},n)},ue=t(7694),me=t(4544),de=function(e){var n=e.language,t=e.children,a="string"==typeof t?t.trim():"";return i.createElement(me.ZP,(0,g.Z)({},me.lG,{theme:ue.Z,code:a,language:n}),(function(e){var n=e.className,t=e.style,a=e.tokens,r=e.getLineProps,l=e.getTokenProps;return i.createElement("pre",{className:n,style:t},a.map((function(e,n){return i.createElement("div",r({line:e,key:n}),e.map((function(e,n){return i.createElement("span",l({token:e,key:n}))})))})))}))}},5033:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return o},metadata:function(){return s},toc:function(){return c},default:function(){return m}});var a=t(2122),r=t(9756),l=(t(7294),t(3905)),i=t(4966),o={id:"java-coverage-receiving-event-flow",title:"Coverage Collection Event Flow"},s={unversionedId:"pre-0.8.0/for-development/java-agent/java-coverage-receiving-event-flow",id:"version-0.8.0/pre-0.8.0/for-development/java-agent/java-coverage-receiving-event-flow",isDocsHomePage:!1,title:"Coverage Collection Event Flow",description:"Details",source:"@site/versioned_docs/version-0.8.0/pre-0.8.0/for-development/java-agent/java-coverage-receiving-event-flow.mdx",sourceDirName:"pre-0.8.0/for-development/java-agent",slug:"/pre-0.8.0/for-development/java-agent/java-coverage-receiving-event-flow",permalink:"/docs/0.8.0/pre-0.8.0/for-development/java-agent/java-coverage-receiving-event-flow",version:"0.8.0",frontMatter:{id:"java-coverage-receiving-event-flow",title:"Coverage Collection Event Flow"},sidebar:"version-0.8.0/docs",previous:{title:"Launch Parameters",permalink:"/docs/0.8.0/pre-0.8.0/configuration/launch-parameters"},next:{title:"Switch Scope Event Flow",permalink:"/docs/0.8.0/pre-0.8.0/for-development/java-agent/java-switch-scope-event-flow"}},c=[{value:"Details",id:"details",children:[{value:"Precondition",id:"precondition",children:[]},{value:"Flow",id:"flow",children:[]},{value:"Sequence Diagram",id:"sequence-diagram",children:[]},{value:"Exception (Step 8)",id:"exception-step-8",children:[]}]},{value:"API",id:"api",children:[{value:"Agent&#39;s Plugin Part (Incoming Messages):",id:"agents-plugin-part-incoming-messages",children:[]},{value:"Agent&#39;s Plugin Part (Outgoing Messages):",id:"agents-plugin-part-outgoing-messages",children:[]},{value:"Admin&#39;s Plugin Part (Incoming\xa0Messages from Admin):",id:"admins-plugin-part-incoming-messages-from-admin",children:[]}]},{value:"Examples",id:"examples",children:[{value:"Agent Incoming\xa0Messages",id:"agent-incoming-messages",children:[]},{value:"Agent Outgoing Messages",id:"agent-outgoing-messages",children:[]}]}],u={toc:c};function m(e){var n=e.components,t=(0,r.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"details"},"Details"),(0,l.kt)("h3",{id:"precondition"},"Precondition"),(0,l.kt)("p",null,"An Agent has established a connection with the Drill Admin and Agent has been registered."),(0,l.kt)("h3",{id:"flow"},"Flow"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"User executes HTTP request to start a session."),(0,l.kt)("li",{parentName:"ol"},"Admin does an action\xa0",(0,l.kt)("strong",{parentName:"li"},"StartNewSession"),"."),(0,l.kt)("li",{parentName:"ol"},"Admin's plugin part starts the session on its side and sends\xa0",(0,l.kt)("strong",{parentName:"li"},"StartAgentSession")," to the agent's plugin part."),(0,l.kt)("li",{parentName:"ol"},"Probes collection is started. Agent's plugin part responds\xa0",(0,l.kt)("strong",{parentName:"li"},"SessionStarted")," to admin's plugin part."),(0,l.kt)("li",{parentName:"ol"},"Agent's plugin part collect ",(0,l.kt)("strong",{parentName:"li"},"ExecClassData")," and\xa0sends ",(0,l.kt)("strong",{parentName:"li"},"\u0421overDataPart"),"\xa0in chunks max. 65535 objects every 2 seconds to the admin's plugin part.",(0,l.kt)(i.r0,{className:"space-y-2",mdxType:"AdditionalInformation"},"Probes\xa0are sent only for the affected classes")),(0,l.kt)("li",{parentName:"ol"},"If\xa0the started session has real-time enabled:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"agent's plugin part sends ",(0,l.kt)("strong",{parentName:"li"},"SessionChanged")," to the admin's plugin part."),(0,l.kt)("li",{parentName:"ul"},"admin's plugin part recalculates coverage."))),(0,l.kt)("li",{parentName:"ol"},"User executes HTTP request to stop session."),(0,l.kt)("li",{parentName:"ol"},"Admin does an action\xa0",(0,l.kt)("strong",{parentName:"li"},"StopSession"),"."),(0,l.kt)("li",{parentName:"ol"},"Admin's plugin part sends\xa0",(0,l.kt)("strong",{parentName:"li"},"StopAgentSession")," to agent's plugin part."),(0,l.kt)("li",{parentName:"ol"},"Repetition of the 5th point and finishes collecting probes."),(0,l.kt)("li",{parentName:"ol"},"Agent's plugin part sends\xa0",(0,l.kt)("strong",{parentName:"li"},"SessionsFinished")," to admin's plugin part."),(0,l.kt)("li",{parentName:"ol"},"Admin's plugin part recalculates coverage and finishes session on its side.")),(0,l.kt)("h3",{id:"sequence-diagram"},"Sequence Diagram"),(0,l.kt)(i.Ee,{src:"/img/for-development/coverage-receiving-sequence.png",mdxType:"Image"}),(0,l.kt)("h3",{id:"exception-step-8"},"Exception (Step 8)"),(0,l.kt)("p",null,"If ",(0,l.kt)("strong",{parentName:"p"},"CancelSession")," is received instead of ",(0,l.kt)("strong",{parentName:"p"},"StopSession"),"\xa0flow is changed:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Admin's plugin part cancels session on its side and sends ",(0,l.kt)("strong",{parentName:"li"},"CancelAgentSession")," to agent's plugin part."),(0,l.kt)("li",{parentName:"ol"},"Probes collection is finished. Agent's plugin part responds ",(0,l.kt)("strong",{parentName:"li"},"SessionCancelled"),"\xa0to admin's plugin part.")),(0,l.kt)("h2",{id:"api"},"API"),(0,l.kt)("h3",{id:"agents-plugin-part-incoming-messages"},"Agent's Plugin Part (Incoming Messages):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@Serializable\n@SerialName("START_AGENT_SESSION")\ndata class StartAgentSession(val payload: StartSessionPayload) : AgentAction()\n\n@Serializable\n@SerialName("ADD_SESSION_DATA")\ndata class AddAgentSessionData(val payload: AgentSessionDataPayload) : AgentAction()\n\n@SerialName("STOP")\n@Serializable\ndata class StopAgentSession(val payload: AgentSessionPayload) : AgentAction()\n\n@SerialName("STOP_ALL")\n@Serializable\nobject StopAllAgentSessions : AgentAction()\n\n@SerialName("CANCEL")\n@Serializable\ndata class CancelAgentSession(val payload: AgentSessionPayload) : AgentAction()\n\n@SerialName("CANCEL_ALL")\n@Serializable\nobject CancelAllAgentSessions : AgentAction()\n\n@Serializable\ndata class StartSessionPayload(\n    val sessionId: String,\n    val testType: String,\n    val testName: String?,\n    val isRealtime: Boolean,\n    val isGlobal: Boolean\n)\n@Serializable\ndata class AgentSessionPayload(\n    val sessionId: String\n)\n\n@Serializable\ndata class AgentSessionDataPayload(val sessionId: String, val data: String)\n')),(0,l.kt)("h3",{id:"agents-plugin-part-outgoing-messages"},"Agent's Plugin Part (Outgoing Messages):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@SerialName("SESSION_STARTED")\n@Serializable\ndata class SessionStarted(\n    val sessionId: String,\n    val testType: String,\n    val isRealtime: Boolean = false,\n    val ts: Long\n) : CoverMessage()\n\n@SerialName("SESSION_CANCELLED")\n@Serializable\ndata class SessionCancelled(val sessionId: String, val ts: Long) : CoverMessage()\n\n@SerialName("SESSIONS_CANCELLED")\n@Serializable\ndata class SessionsCancelled(val ids: List<String>, val ts: Long) : CoverMessage()\n\n@SerialName("COVERAGE_DATA_PART")\n@Serializable\ndata class CoverDataPart(val sessionId: String, val data: List<ExecClassData>) : CoverMessage()\n\n@SerialName("SESSION_CHANGED")\n@Serializable\ndata class SessionChanged(val sessionId: String, val probeCount: Int) : CoverMessage()\n\n@SerialName("SESSION_FINISHED")\n@Serializable\ndata class SessionFinished(val sessionId: String, val ts: Long) : CoverMessage()\n\n@SerialName("SESSIONS_FINISHED")\n@Serializable\ndata class SessionsFinished(val ids: List<String>, val ts: Long) : CoverMessage()\n')),(0,l.kt)("h3",{id:"admins-plugin-part-incoming-messages-from-admin"},"Admin's Plugin Part (Incoming\xa0Messages from Admin):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'\n@SerialName("START")\n@Serializable\ndata class StartNewSession(val payload: StartPayload) : Action()\n\n@SerialName("CANCEL")\n@Serializable\ndata class CancelSession(val payload: SessionPayload) : Action()\n\n@SerialName("CANCEL_ALL")\n@Serializable\nobject CancelAllSessions : Action()\n\n@SerialName("STOP")\n@Serializable\ndata class StopSession(val payload: StopSessionPayload) : Action()\n\n@SerialName("STOP_ALL")\n@Serializable\nobject StopAllSessions : Action()\n')),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)("h3",{id:"agent-incoming-messages"},"Agent Incoming\xa0Messages"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'{\n  "type":"START_AGENT_SESSION",\n  "payload":{\n    "sessionId": "some-id",\n    "testType":"Manual or Auto or custom",\n    "testName":"some-name",\n    "isRealtime": "true or false",\n    "isGlobal":"true or false"\n  }\n}\n\n{\n  "type":"STOP",\n  "payload":{\n    "sessionId": "some-id"\n  }\n}\n')),(0,l.kt)("h3",{id:"agent-outgoing-messages"},"Agent Outgoing Messages"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'{\n  "type":"SESSION_STARTED",\n  "sessionId":"session-id",\n  "testType":"manual or auto",\n  "isRealtime":"true or false",\n  "ts":"start time"\n}\n\n{\n  "type":"SCOPE_INITIALIZED",\n  "id":"session-id",\n  "name":"scope-name",\n  "prevId":"some-id",\n  "ts":"start time"\n}\n\n{\n  "type":"INITIALIZED",\n  "msg":"Initialized"\n}\n')))}m.isMDXComponent=!0}}]);