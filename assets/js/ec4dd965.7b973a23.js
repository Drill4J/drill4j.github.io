(self.webpackChunkdrill4j_github_io=self.webpackChunkdrill4j_github_io||[]).push([[6897],{2754:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u},default:function(){return o}});var i=r(2122),n=r(9756),a=(r(7294),r(3905)),l={id:"app-under-test-setup",title:"Application Under Test Setup"},p={unversionedId:"drill4net/app-under-test-setup",id:"drill4net/app-under-test-setup",isDocsHomePage:!1,title:"Application Under Test Setup",description:"Supported technologies",source:"@site/docs/drill4net/app-under-test-setup.mdx",sourceDirName:"drill4net",slug:"/drill4net/app-under-test-setup",permalink:"/docs/drill4net/app-under-test-setup",version:"current",frontMatter:{id:"app-under-test-setup",title:"Application Under Test Setup"},sidebar:"docs",previous:{title:"CI/CD Integration",permalink:"/docs/drill4net/ci-cd-integration"},next:{title:"Project with Tests Setup",permalink:"/docs/drill4net/tests-project-setup"}},u=[{value:"Supported technologies",id:"supported-technologies",children:[]},{value:"Web API Application Under Test Setup",id:"web-api-application-under-test-setup",children:[]},{value:"Azure Function Under Test Setup",id:"azure-function-under-test-setup",children:[]},{value:"Azure Service Bus Under Test Setup",id:"azure-service-bus-under-test-setup",children:[]},{value:"Kafka Under Test Setup",id:"kafka-under-test-setup",children:[]},{value:"RabbitMQ Under Test Setup",id:"rabbitmq-under-test-setup",children:[]}],s={toc:u};function o(e){var t=e.components,r=(0,n.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"supported-technologies"},"Supported technologies"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Web API"),(0,a.kt)("li",{parentName:"ol"},"Azure Functions (Isolated Worker Process)"),(0,a.kt)("li",{parentName:"ol"},"Azure Service Bus")),(0,a.kt)("h2",{id:"web-api-application-under-test-setup"},"Web API Application Under Test Setup"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver"},"Drill4Net.Receiver")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver.WebApi"},"Drill4Net.Receiver.WebApi")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Add the following line in you ",(0,a.kt)("inlineCode",{parentName:"li"},"Startup.Configure")," method:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"app.UseDrill4NetReceiverWebApi();\n")),(0,a.kt)("p",null,"Make sure you added"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"using Drill4Net.Receiver.WebApi;\n")),(0,a.kt)("h2",{id:"azure-function-under-test-setup"},"Azure Function Under Test Setup"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver.AzureFunction"},"Drill4Net.Receiver.AzureFunction")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Use ",(0,a.kt)("inlineCode",{parentName:"li"},"Drill4NetReceiverAzureFunctionMiddleware")," middleware.\nMake sure you added")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"using Drill4Net.Receiver.AzureFunction;\n")),(0,a.kt)("h2",{id:"azure-service-bus-under-test-setup"},"Azure Service Bus Under Test Setup"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver"},"Drill4Net.Receiver")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver.AzureServiceBus"},"Drill4Net.Receiver.AzureServiceBus")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Add call in Startup/Program ",(0,a.kt)("inlineCode",{parentName:"li"},"ServiceBusPatcher.Patch();"),".\nMake sure you added")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"using Drill4Net.Receiver.AzureServiceBus;\n")),(0,a.kt)("h2",{id:"kafka-under-test-setup"},"Kafka Under Test Setup"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver.Kafka"},"Drill4Net.Receiver.Kafka")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Add call in Startup/Program ",(0,a.kt)("inlineCode",{parentName:"li"},"KafkaPatcher.PatchSender<TKey, TValue>();")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"KafkaPatcher.PatchReceiver<TKey, TValue>();"),".")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"  services.AddSingleton(sp => new ProducerBuilder<Null, string>(config).Build());\n  KafkaPatcher.PatchSender<Null, string>();\n")),(0,a.kt)("p",null,"Make sure you added ",(0,a.kt)("inlineCode",{parentName:"p"},"using Drill4Net.Receiver.Kafka;"),"."),(0,a.kt)("h2",{id:"rabbitmq-under-test-setup"},"RabbitMQ Under Test Setup"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Drill4Net.Receiver.RabbitMQ"},"Drill4Net.Receiver.RabbitMQ")," in ",(0,a.kt)("em",{parentName:"li"},"application under test")," start up project."),(0,a.kt)("li",{parentName:"ol"},"Add call in Startup/Program ",(0,a.kt)("inlineCode",{parentName:"li"},"RabbitMqPatcher.Patch();"),".")),(0,a.kt)("p",null,"Make sure you added ",(0,a.kt)("inlineCode",{parentName:"p"},"using Drill4Net.Receiver.RabbitMQ;"),"."))}o.isMDXComponent=!0}}]);