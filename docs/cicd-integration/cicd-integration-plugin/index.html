<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Drill4J Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Drill4J Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Drill4J" href="/opensearch.xml">

    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-NGTZFW2",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://cookie-cdn.cookiepro.com/consent/0193cf92-5110-7699-8ea2-b1350ca5e293/OtAutoBlock.js"></script>
<script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0193cf92-5110-7699-8ea2-b1350ca5e293"></script>
<script src="data:text/javascript,function%20OptanonWrapper%20()%20{}"></script><title data-react-helmet="true">CI/CD Integration Plugin | Drill4J</title><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.9.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.9.0"><meta data-react-helmet="true" property="og:title" content="CI/CD Integration Plugin | Drill4J"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><meta data-react-helmet="true" property="og:url" content="https://Drill4J.github.io/docs/cicd-integration/cicd-integration-plugin"><link data-react-helmet="true" rel="shortcut icon" href="/imgs/favicon.ico"><link data-react-helmet="true" rel="alternate" href="https://Drill4J.github.io/docs/cicd-integration/cicd-integration-plugin" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Drill4J.github.io/docs/cicd-integration/cicd-integration-plugin" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://Drill4J.github.io/docs/cicd-integration/cicd-integration-plugin"><link rel="stylesheet" href="/assets/css/styles.5d585de0.css">
<link rel="preload" href="/assets/js/runtime~main.8fce62d2.js" as="script">
<link rel="preload" href="/assets/js/main.abd0191d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/imgs/drill4j-logo.svg" alt="Drill4J Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/imgs/drill4j-logo.svg" alt="Drill4J Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/what-is-drill4j">0.9.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/docs-next">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/cicd-integration/cicd-integration-plugin">0.9.0</a></li><li><a class="dropdown__link" href="/docs/0.8.0/overview/what-is-drill4j">0.8.0</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/what-is-drill4j">Documentation</a><a href="https://github.com/Drill4J/realworld-java-and-js-coverage/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo</a><a href="https://github.com/Drill4J/drill4j" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/imgs/drill4j-logo.svg" alt="Drill4J Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/imgs/drill4j-logo.svg" alt="Drill4J Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/docs-next">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/cicd-integration/cicd-integration-plugin">0.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.8.0/overview/what-is-drill4j">0.8.0</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/what-is-drill4j">Documentation</a></li><li class="menu__list-item"><a href="https://github.com/Drill4J/realworld-java-and-js-coverage/" target="_blank" rel="noopener noreferrer" class="menu__link">Demo</a></li><li class="menu__list-item"><a href="https://github.com/Drill4J/drill4j" target="_blank" rel="noopener noreferrer" class="menu__link">Github</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPageContainer_3TM_"><div class="background_5lwn"></div><div class="flex flex-col lg:pt-6 lg:pl-6 lg:border-r border-monochrome-medium-tint bg-monochrome-light-tint" role="complementary"><div class="menu px-6 lg:px-0"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button flex items-center justify-center w-16 h-9 fixed right-4 bottom-10 z-20" type="button"><span style="background-image:url(/imgs/open-menu.svg);min-width:24px;min-height:24px;display:inline-block"></span></button></div></div><main class="grid grid-cols-12 gap-x-5 mb-22 bg-monochrome-white"><article class="col-span-12 lg:col-start-2 lg:col-span-8" style="max-width:100%"><header><h1 class="mt-8 mb-4 text-32 leading-48 text-monochrome-default">CI/CD Integration Plugin</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The CI/CD integration plugin offers a wide range of capabilities and is available for both Gradle and Maven.</p><p>All these functions are provided under a single tool because they are related to tasks executed within Maven or Gradle.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="features"></a>Features<a class="hash-link" href="#features" title="Direct link to heading">#</a></h3><p>CI/CD Integration Plugin functions include:</p><ol><li><p><strong>Downloading and configuring agents</strong>:</p><ul><li><a href="#application-agent">Application agent</a> - to capture unit tests coverage</li><li><a href="#test-agent">Test agent</a> - to capture metadata for tests launches (such as runner, test name and result)</li></ul></li><li><p><strong>Generating change testing reports</strong>:</p><ul><li><a href="#generating-a-change-testing-report">With a command</a> - useful to call on branch push event.</li><li><a href="#github-pull-request-report">On GitHub Pull Request</a></li><li><a href="#gitlab-merge-request-report">On GitLab Merge Request</a></li></ul></li><li><p><a href="#sending-git-metadata-to-drill4j-api"><strong>Sending Git metadata to Drill4J API</strong></a> - to supply Drill4J with commit information (date, hash, author) from which a particular application version is built.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-use"></a>How to use<a class="hash-link" href="#how-to-use" title="Direct link to heading">#</a></h3><p>The general gist of using the CI/CD integration plugin is:</p><ol><li><a href="#adding-plugin">Add the plugin</a> to your Maven or Gradle configuration.</li><li>Configure the agents (for <a href="#application-agent">application</a>, for <a href="#test-agent">tests</a>)</li><li>Use commands provided by CI/CD Integration Plugin and integrate it with your CI/CD scripts</li></ol><blockquote><p>The exact configuration files and commands you should use depend on the task at hand. This page provides general reference. <strong>For step-by-step guides</strong> refer to Integration Guides section (see documentation sidebar at the top of the page).</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="adding-plugin"></a>Adding plugin<a class="hash-link" href="#adding-plugin" title="Direct link to heading">#</a></h2><p>This section describes how to add CI/CD integration plugin to your project.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle"></a>Gradle<a class="hash-link" href="#gradle" title="Direct link to heading">#</a></h3><ol><li>Add the following to Gradle build file <code>plugins</code> section:</li></ol><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">plugins {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    id(&quot;com.epam.drill.integration.cicd&quot;) version &quot;0.1.7&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><ol start="2"><li>Set Drill4J API address and API key<ul><li><strong>Option 1</strong> (recommended): using environment variables.<div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// Exact way to set variables depends on the environment</span></div><div class="token-line" style="color:#393A34"><span class="token plain">DRILL_API_URL=&quot;http://localhost:8090/api&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">DRILL_API_KEY=&quot;your_api_key_here&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><strong>Option 2</strong> (not recommended): using Gradle build file.<div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// Add the following section in `build.gradle` at root level</span></div><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Set API url and API key</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    apiUrl = &quot;http://localhost:8090/api&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    apiKey = &quot;your_api_key_here&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven"></a>Maven<a class="hash-link" href="#maven" title="Direct link to heading">#</a></h3><ol><li>Add the Drill4J CI/CD integration plugin to <code>&lt;build&gt;</code> section of pom.xml file:</li></ol><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><ol start="2"><li>Set Drill4J API address and API key<ul><li><strong>Option 1</strong> (recommended): using environment variables.<div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// Exact way to set variables depends on the environment</span></div><div class="token-line" style="color:#393A34"><span class="token plain">DRILL_API_URL=&quot;http://localhost:8090/api&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">DRILL_API_KEY=&quot;your_api_key_here&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><strong>Option 2</strong> (not recommended): using Maven configuration file.
</li></ul></li></ol><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Set API url and API key --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">apiUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">http://localhost:8090/api</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">apiUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">apiKey</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">your_api_key_here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">apiKey</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-agent"></a>Test Agent<a class="hash-link" href="#test-agent" title="Direct link to heading">#</a></h2><p>Enables Drill4J to map tests to coverage and vice versa. For more details on this feature and its purpose, see the <a href="/docs/agents/test-agent">Test Agent</a> reference page.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-up"></a>Set up<a class="hash-link" href="#set-up" title="Direct link to heading">#</a></h3><p>Prerequisite - <a href="#adding-plugin">CI/CD integration plugin</a> added to project</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-1"></a>Gradle<a class="hash-link" href="#gradle-1" title="Direct link to heading">#</a></h4><p>To enable the Drill4J Test Agent to Gradle project add the following:</p><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // groupId is a required parameter to run test agent</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    enableTestAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        version = 0.23.4</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><blockquote><p>Note, that Test Agent will automatically launch for every Gradle test task.
If you need to disable Test Agent for specific tasks, refer to <a href="#disable-for-specific-task">this section</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-1"></a>Maven<a class="hash-link" href="#maven-1" title="Direct link to heading">#</a></h4><p>To enable the Drill4J Test Agent to Maven project add the following to pom.xml:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- groupId is a required parameter to run test agent --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.23.4</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- adds enableTestAgent goal --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">enableTestAgent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><blockquote><p>Note, that Test Agent will automatically launch for every Maven test goal.
If you need to disable Test Agent for specific goals, refer to <a href="#disable-for-specific-task">this section</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="disable-for-specific-task"></a>Disable for specific task<a class="hash-link" href="#disable-for-specific-task" title="Direct link to heading">#</a></h3><p>By default, the Test Agent will launch for every Gradle task and Maven goal.
To disable the Test Agent for specific tasks/goals, follow the steps below:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-2"></a>Gradle<a class="hash-link" href="#gradle-2" title="Direct link to heading">#</a></h5><p>Add the following to configuration of test task:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// Standard test configuration in Gradle</span></div><div class="token-line" style="color:#393A34"><span class="token plain">test {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    useJUnitPlatform() // or any other test runner</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        testAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            enabled = false // Disables Test agent for this test task</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-2"></a>Maven<a class="hash-link" href="#maven-2" title="Direct link to heading">#</a></h5><p>There is no way to disable Test Agent for specific Maven goal while keeping it for all others.</p><p>Instead you can create dedicated Maven profile for both CI/CD Integration Plugin and Test Agent configuration:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- profile name, it is totally arbitrary --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">profileWithTestAgent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activeByDefault</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activeByDefault</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">enableTestAgent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><p>This way Test Agent will only launch when the respective profile is launched.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="agent-files-download-source"></a>Agent files download source<a class="hash-link" href="#agent-files-download-source" title="Direct link to heading">#</a></h3><p>There are 3 ways to specify where CI/CD plugin should load agent from:</p><ul><li><a href="#automatic-download">Automatic download</a> by version tag - the default option.</li><li><a href="#custom-url-download">Custom URL download</a> - arbitrary URL to ZIP release. </li><li><a href="#local-path-to-zip-release">Local path to ZIP release</a> - local path to ZIP release.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="automatic-download"></a>Automatic download<a class="hash-link" href="#automatic-download" title="Direct link to heading">#</a></h4><p>To enable automatic download specify <code>version</code> parameter with concrete version. See list of available versions on <a href="https://github.com/Drill4J/autotest-agent/releases" target="_blank" rel="noopener noreferrer">Test Agent GitHub repository</a> releases page.</p><blockquote><p><em>NOTE:</em>
GitHub API has rate limits for unauthenticated downloads. To increase these limits, set the <code>GH_USER_TOKEN</code> environment variable.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-3"></a>Gradle<a class="hash-link" href="#gradle-3" title="Direct link to heading">#</a></h5><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableTestAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    version = &quot;0.1.7&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-3"></a>Maven<a class="hash-link" href="#maven-3" title="Direct link to heading">#</a></h5><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-url-download"></a>Custom URL download<a class="hash-link" href="#custom-url-download" title="Direct link to heading">#</a></h4><p>To download the Test Agent from a custom URL, set the <code>downloadUrl</code> parameter to the desired link:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-4"></a>Gradle<a class="hash-link" href="#gradle-4" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableTestAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    downloadUrl = &quot;http://url_to_download_agent.zip&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-4"></a>Maven<a class="hash-link" href="#maven-4" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">downloadUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">http://url_to_download_agent.zip</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">downloadUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="local-path-to-zip-release"></a>Local path to ZIP release<a class="hash-link" href="#local-path-to-zip-release" title="Direct link to heading">#</a></h4><p>To use a locally available Test Agent, set the <code>zipPath</code> parameter to the path of the local zip archive:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-5"></a>Gradle<a class="hash-link" href="#gradle-5" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableTestAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    zipPath = &quot;path/to/local/agent.zip&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-5"></a>Maven<a class="hash-link" href="#maven-5" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">zipPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">path/to/local/agent.zip</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">zipPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="application-agent"></a>Application Agent<a class="hash-link" href="#application-agent" title="Direct link to heading">#</a></h2><p>Enables Drill4J to collect coverage for application classes. See the <a href="/docs/agents/java-agent">Application Agent</a> reference page for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-up-1"></a>Set up<a class="hash-link" href="#set-up-1" title="Direct link to heading">#</a></h3><p>Prerequisite - <a href="#adding-plugin">CI/CD integration plugin</a> added to project</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-6"></a>Gradle<a class="hash-link" href="#gradle-6" title="Direct link to heading">#</a></h4><p>To enable the Drill4J Application Agent to Gradle project add the following:</p><pre class="prism-code language-groovy" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enter appropriate parameter values</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Specifies the java packages for Drill4J to monitor</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Use &quot;/&quot; separator for package name parts</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    packagePrefixes = &quot;my/awesome/application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Optional, identifies app version built from checked out commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    buildVersion = &quot;1.0.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    enableAppAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        version = &quot;0.9.7&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><blockquote><p>Note, that Application Agent will automatically launch for every Gradle exec task.
If you need to disable Application Agent for specific tasks, refer to <a href="#disable-for-specific-task-1">this section</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-6"></a>Maven<a class="hash-link" href="#maven-6" title="Direct link to heading">#</a></h4><p>To enable the Drill4J Application Agent to Maven project add the following to pom.xml:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enter appropriate parameter values --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  Specifies the java packages for Drill4J to monitor --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Use &quot;/&quot; separator for package name parts --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">packagePrefixes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my/awesome/application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">packagePrefixes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Optional, identifies app version built from checked out commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.9.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- adds enableAppAgent goal --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">enableAppAgent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><blockquote><p>Note, that Application Agent will automatically launch for every Maven test goal. If you need to disable Application Agent for specific goals, refer to <a href="#disable-for-specific-task-1">this section</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="disable-for-specific-task-1"></a>Disable for specific task<a class="hash-link" href="#disable-for-specific-task-1" title="Direct link to heading">#</a></h3><p>By default, the Application Agent will launch for every Gradle task and Maven goal. To disable the Application Agent for specific tasks/goals, follow the steps below:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-7"></a>Gradle<a class="hash-link" href="#gradle-7" title="Direct link to heading">#</a></h5><p>Add the following to configuration of test task:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><div tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// Standard test configuration in Gradle</span></div><div class="token-line" style="color:#393A34"><span class="token plain">test {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    useJUnitPlatform() // or any other test runner</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        appAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            enabled = false // Disables Application agent for this test task</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-7"></a>Maven<a class="hash-link" href="#maven-7" title="Direct link to heading">#</a></h5><p>There is no way to disable Application Agent for specific Maven goal while keeping it for all others.</p><p>Instead you can create dedicated Maven profile for both CI/CD Integration Plugin and Application Agent configuration:</p><pre class="prism-code language-" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;profiles&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;profile&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- profile name, it is totally arbitrary --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;id&gt;profileWithAppAgent&lt;/id&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;activation&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/activation&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;build&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;plugins&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &lt;plugin&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;groupId&gt;com.epam.drill.integration&lt;/groupId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;artifactId&gt;drill-maven-plugin&lt;/artifactId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;version&gt;0.1.7&lt;/version&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        &lt;execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            &lt;goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                &lt;goal&gt;enableAppAgent&lt;/goal&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            &lt;/goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        &lt;/execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &lt;/plugin&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;/plugins&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/build&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;/profile&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/profiles&gt;</span></div></pre><p>This way Application Agent will only launch when the respective profile is launched.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="agent-files-download-source-1"></a>Agent files download source<a class="hash-link" href="#agent-files-download-source-1" title="Direct link to heading">#</a></h3><p>There are 3 ways to specify where CI/CD plugin should load agent from:</p><ul><li><a href="#automatic-download-1">Automatic download</a> by version tag - the default option.</li><li><a href="#custom-url-download-1">Custom URL download</a> - arbitrary URL to ZIP release.</li><li><a href="#local-path-to-zip-release-1">Local path to ZIP release</a> - local path to ZIP release.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="automatic-download-1"></a>Automatic download<a class="hash-link" href="#automatic-download-1" title="Direct link to heading">#</a></h4><p>To enable automatic download specify <code>version</code> parameter with concrete version. See list of available versions on <a href="https://github.com/Drill4J/java-agent/releases" target="_blank" rel="noopener noreferrer">Application Agent GitHub repository</a> releases page.</p><blockquote><p><em>NOTE:</em>
GitHub API has rate limits for unauthenticated downloads. To increase these limits, set the <code>GH_USER_TOKEN</code> environment variable.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-8"></a>Gradle<a class="hash-link" href="#gradle-8" title="Direct link to heading">#</a></h5><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableAppAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    version = &quot;0.9.7&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-8"></a>Maven<a class="hash-link" href="#maven-8" title="Direct link to heading">#</a></h5><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.9.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-url-download-1"></a>Custom URL download<a class="hash-link" href="#custom-url-download-1" title="Direct link to heading">#</a></h4><p>To download the Application Agent from a custom URL, set the <code>downloadUrl</code> parameter to the desired link:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-9"></a>Gradle<a class="hash-link" href="#gradle-9" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableAppAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    downloadUrl = &quot;http://url_to_download_agent.zip&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-9"></a>Maven<a class="hash-link" href="#maven-9" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">downloadUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">http://url_to_download_agent.zip</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">downloadUrl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="local-path-to-zip-release-1"></a>Local path to ZIP release<a class="hash-link" href="#local-path-to-zip-release-1" title="Direct link to heading">#</a></h4><p>To use a locally available Application Agent, set the <code>zipPath</code> parameter to the path of the local zip archive:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-10"></a>Gradle<a class="hash-link" href="#gradle-10" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableAppAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    zipPath = &quot;path/to/local/agent.zip&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-10"></a>Maven<a class="hash-link" href="#maven-10" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">zipPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">path/to/local/agent.zip</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">zipPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-recommendations"></a>Test Recommendations<a class="hash-link" href="#test-recommendations" title="Direct link to heading">#</a></h2><p>Drill4J helps to significantly reduce test execution time by providing recommendations on
which tests can be skipped because the code they cover has already been tested before.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-up-2"></a>Set up<a class="hash-link" href="#set-up-2" title="Direct link to heading">#</a></h3><p>Prerequisites:</p><ul><li><a href="#test-agent">Test agent</a> is enabled.</li><li>Before running the tests, make sure that the application under test is already deployed with the <a href="#application-agent">Application Agent</a> enabled.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-11"></a>Gradle<a class="hash-link" href="#gradle-11" title="Direct link to heading">#</a></h4><p>To enable test recommendations add the following properties to your Gradle build file:</p><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Group ID</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // ID of the application under test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Identifies the version of the application under test that is based on the checked out commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    buildVersion = &quot;1.0.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enables Test Recommendations</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    enableTestRecommendations {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        coveragePeriodDays = 30 // Optional, sets the period of days for which coverage data is taken into account</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enables Test Agent</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    enableTestAgent {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        version = 0.23.4</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-11"></a>Maven<a class="hash-link" href="#maven-11" title="Direct link to heading">#</a></h4><p>To enable test recommendations add the following properties to your Maven pom.xml file:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Group ID --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ID of the application under test --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Identifies the version of the application under test that is based on the checked out commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testRecommendations</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enables Test Recommendations --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">enabled</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">enabled</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Optional, sets the period of days for which coverage data is taken into account --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">coveragePeriodDays</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">30</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">coveragePeriodDays</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testRecommendations</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enables Test Agent --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">enableAppAgent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="disabling-recommended-tests"></a>Disabling recommended tests<a class="hash-link" href="#disabling-recommended-tests" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-12"></a>Gradle<a class="hash-link" href="#gradle-12" title="Direct link to heading">#</a></h4><p>To disable recommended tests, make the following changes to your Gradle file:</p><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">enableTestRecommendations {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Optional, disables test recommendations</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    enabled = false</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-12"></a>Maven<a class="hash-link" href="#maven-12" title="Direct link to heading">#</a></h4><p>To disable recommended tests, make the following changes to your Maven file:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">testRecommendations</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Disables Test Recommendations --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">enabled</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">enabled</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">testRecommendations</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="comparing-with-baseline"></a>Comparing with baseline<a class="hash-link" href="#comparing-with-baseline" title="Direct link to heading">#</a></h3><p>Drill4J allows you to run tests only for code that has changed compared to the baseline version.
To skip tests for unchanged code, set the baseline version to compare with.</p><blockquote><p>See the <a href="#baseline-strategy">Baseline Strategy</a> section for more information.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-13"></a>Gradle<a class="hash-link" href="#gradle-13" title="Direct link to heading">#</a></h4><p>To set the baseline configuration, add the following properties to your Gradle build file:</p><pre class="prism-code language-kotlin" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Group ID</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // ID of the application under test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Identifies the version of the application under test that is based on the checked out commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    buildVersion = &quot;1.0.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Set either to SEARCH_BY_MERGE_BASE or SEARCH_BY_TAG. See &quot;Baseline Strategy&quot; section on the page below for more info</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    baseline {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        searchStrategy = &quot;SEARCH_BY_TAG&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enable Test Recommendations and Test Agent</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-13"></a>Maven<a class="hash-link" href="#maven-13" title="Direct link to heading">#</a></h4><p>Set the <code>&lt;baseline&gt;</code> Drill4J configuration to your Maven pom.xml file:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Group ID --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ID of the application under test --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Identifies the version of the application under test that is based on the checked out commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Set either to SEARCH_BY_MERGE_BASE or SEARCH_BY_TAG. See &quot;Baseline Strategy&quot; section on the page below for more info --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">SEARCH_BY_TAG</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enable Test Recommendations and Test Agent --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ...</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="generating-a-change-testing-report"></a>Generating a change testing report<a class="hash-link" href="#generating-a-change-testing-report" title="Direct link to heading">#</a></h2><p>A Change Testing Report provides insights into the code changes that have been tested,
allowing you to ensure the quality of newly introduced changes.</p><p>For step-by-step integrations guide see:</p><ol><li><a href="/docs/cicd-integration/gitlab">GitLab integration</a></li><li><a href="/docs/cicd-integration/github">GitHub integration</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-14"></a>Gradle<a class="hash-link" href="#gradle-14" title="Direct link to heading">#</a></h3><p>Add the following properties to your Gradle build file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enter appropriate parameter values</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Set either to SEARCH_BY_MERGE_BASE or SEARCH_BY_TAG. See &quot;Baseline Strategy&quot; section on the page below for more info</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    baseline {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       searchStrategy = &quot;SEARCH_BY_TAG&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To generate the Change Testing Report, execute the following Gradle command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">./gradlew drillGenerateChangeTestingReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The report will be saved in the <code>/build/drill-reports/</code> directory.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-14"></a>Maven<a class="hash-link" href="#maven-14" title="Direct link to heading">#</a></h3><p>Add the following properties to your Maven pom.xml file:</p><pre class="prism-code language-" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;plugin&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;com.epam.drill.integration&lt;/groupId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;drill-maven-plugin&lt;/artifactId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;0.1.7&lt;/version&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;configuration&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Enter appropriate parameter values --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;groupId&gt;my-group&lt;/groupId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;appId&gt;my-application&lt;/appId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Set either to SEARCH_BY_MERGE_BASE or SEARCH_BY_TAG. See &quot;Baseline Strategy&quot; section on the page below for more info --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;baseline&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;searchStrategy&gt;SEARCH_BY_TAG&lt;/searchStrategy&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/baseline&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;/configuration&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &lt;goal&gt;generateChangeTestingReport&lt;/goal&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;/goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;/executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/plugin&gt;</span></div></pre><p>To generate the Change Testing Report, execute the following Maven command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mvn drill:generateChangeTestingReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The report will be saved in the <code>/target/drill-reports/</code> directory.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="github-pull-request-report"></a>GitHub Pull Request report<a class="hash-link" href="#github-pull-request-report" title="Direct link to heading">#</a></h2><p>This feature posts a report of the tested changes as a comment on a GitHub Pull Request.
It compares the current build with the merge base build of the target branch for the Pull Request.</p><blockquote><p><em>IMPORTANT!</em>
This command can only be executed within a GitHub workflow and requires specific environment variables available only in a GitHub Actions job.</p></blockquote><p>To execute this command, you need to provide a GitHub API token.
API token should have following rights:</p><ul><li>repo</li><li>write:discussion</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-15"></a>Gradle<a class="hash-link" href="#gradle-15" title="Direct link to heading">#</a></h3><p>Add the following properties to your Gradle build file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enter appropriate parameter values</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    github {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // Enter your GitHub Token</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        token = &quot;your-github-token-here&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To leave a comment on a Pull Request, execute the following Gradle command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">./gradlew drillGithubPullRequestReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-15"></a>Maven<a class="hash-link" href="#maven-15" title="Direct link to heading">#</a></h3><p>Add the following properties to the Drill4J plugin configuration in your Maven pom.xml file:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enter appropriate parameter values --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">github</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Enter your GitHub Token --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">token</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">your-github-token-here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">token</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">github</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">githubPullRequestReport</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><p>To leave a comment on a Pull Request, execute the following Maven command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mvn drill:githubPullRequestReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gitlab-merge-request-report"></a>GitLab Merge Request report<a class="hash-link" href="#gitlab-merge-request-report" title="Direct link to heading">#</a></h2><p>This feature posts a report of the tested changes as a comment on a GitLab Merge Request.
It compares the current build with the merge base build of the target branch for the Merge Request.</p><blockquote><p><em>IMPORTANT!</em>
This command can only be executed within a GitLab CI/CD job and requires specific environment variables available only during GitLab CI/CD execution.</p></blockquote><p>To execute this command, you need to provide a GitLab private token.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-16"></a>Gradle<a class="hash-link" href="#gradle-16" title="Direct link to heading">#</a></h3><p>Add the following properties to your Gradle build file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Enter appropriate parameter values</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    gitlab {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // Adjust if running on a private GitLab instance</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        apiUrl=&quot;https://gitlab.com/api/v4/&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // Enter your token</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        privateToken = &quot;your-gitlab-token-here&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To post a comment on a Merge Request, execute the following Gradle command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">./gradlew drillGitlabMergeRequestReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-16"></a>Maven<a class="hash-link" href="#maven-16" title="Direct link to heading">#</a></h3><p>Add the following properties to your Maven pom.xml file:</p><pre class="prism-code language-" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;plugin&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;com.epam.drill.integration&lt;/groupId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;drill-maven-plugin&lt;/artifactId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;0.1.7&lt;/version&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;configuration&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Set appropriate parameter values --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;groupId&gt;my-group&lt;/groupId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;appId&gt;my-application&lt;/appId&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;gitlab&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Adjust if running on a private GitLab instance--&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;apiUrl&gt;https://gitlab.com/api/v4/&lt;/apiUrl&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Enter your personal token --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;privateToken&gt;someToken&lt;/privateToken&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/gitlab&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;/configuration&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &lt;goal&gt;gitlabMergeRequestReport&lt;/goal&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &lt;/goals&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &lt;/execution&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &lt;/executions&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/plugin&gt;</span></div></pre><p>To leave a comment on a Merge Request, execute the following Maven command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mvn drill:gitlabMergeRequestReport</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sending-git-metadata-to-drill4j-api"></a>Sending Git metadata to Drill4J API<a class="hash-link" href="#sending-git-metadata-to-drill4j-api" title="Direct link to heading">#</a></h2><p>This enables Drill4J to display additional data on build in the reports, such as:</p><ul><li>Build version</li><li>Current commit SHA</li><li>Current commit message</li><li>Commit author</li></ul><p>It makes reports more readable and allows to easily associate reports with particular commits. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-17"></a>Gradle<a class="hash-link" href="#gradle-17" title="Direct link to heading">#</a></h3><p>Add the following parameters to your Gradle build file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">drill {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Set appropriate parameter values</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    groupId = &quot;my-group&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    appId = &quot;my-application&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Optional, identifies app version built from checked out commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    buildVersion = &quot;1.0.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To send the build information to the Drill4J backend, execute the following Gradle command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">./gradlew drillSendBuildInfo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-17"></a>Maven<a class="hash-link" href="#maven-17" title="Direct link to heading">#</a></h3><p>Add the following parameters to your Maven pom.xml file:</p><pre class="prism-code language-xml" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.epam.drill.integration</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">drill-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1.7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Set appropriate parameter values --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-group</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-application</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Optional, identifies app version built from checked out commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sendBuildInfo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></pre><p>To send the build information to the Drill4J backend, execute the following Maven command</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mvn drill:sendBuildInfo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="baseline-strategy"></a>Baseline strategy<a class="hash-link" href="#baseline-strategy" title="Direct link to heading">#</a></h2><p>To generate a Change Testing Report or enable Test Recommendations, the current build must be compared to a baseline build.
Drill4J supports multiple strategies for identifying the baseline build.</p><ul><li>Search by tags</li><li>Search by merge base</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="search-by-tags"></a>Search by tags<a class="hash-link" href="#search-by-tags" title="Direct link to heading">#</a></h3><p>This strategy compares the current build to a baseline build identified by Git tags.</p><blockquote><p><em>IMPORTANT!</em>
You need to have at least one Git tag in your repository for this strategy to work.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-18"></a>Gradle<a class="hash-link" href="#gradle-18" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">baseline {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Strategy to find a baseline commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    searchStrategy = &quot;SEARCH_BY_TAG&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Adjust to match your tag naming scheme</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    tagPattern = &quot;v[0-9].[0-9].[0-9]*&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-18"></a>Maven<a class="hash-link" href="#maven-18" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Strategy to find a baseline commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">SEARCH_BY_TAG</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Adjust to match your tag naming scheme --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tagPattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">v[0-9].[0-9].[0-9]*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tagPattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="search-by-merge-base"></a>Search by merge base<a class="hash-link" href="#search-by-merge-base" title="Direct link to heading">#</a></h3><p>This strategy compares the current build to the baseline based on the common ancestor (merge base) of two branches.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradle-19"></a>Gradle<a class="hash-link" href="#gradle-19" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">baseline {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Strategy to find a baseline commit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    searchStrategy = &quot;SEARCH_BY_MERGE_BASE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Set to either branch, tag, or a commit. Current application version will be compared against last version matching the &lt;tagRef&gt; --&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    targetRef = &quot;main&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maven-19"></a>Maven<a class="hash-link" href="#maven-19" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Strategy to find a baseline commit --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">SEARCH_BY_MERGE_BASE</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">searchStrategy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Set to either branch, tag, or a commit. Current application version will be compared against last version matching the &lt;tagRef&gt; --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">targetRef</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">main</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">targetRef</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">baseline</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-confirm-that-agents-are-enabled-when-running-tests"></a>How to confirm that agents are enabled when running tests?<a class="hash-link" href="#how-to-confirm-that-agents-are-enabled-when-running-tests" title="Direct link to heading">#</a></h3><p>Once loaded, the Drill4J agent prints the following ASCII logo in the Gradle/Maven console log:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly log"><div tabindex="0" class="prism-code language-log codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Task :test is modified by Drill</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      ____    ____                 _       _          _  _                _</span></div><div class="token-line" style="color:#393A34"><span class="token plain">     |  _&quot;\U |  _&quot;\ u     ___     |&quot;|     |&quot;|        | ||&quot;|            U |&quot;| u</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /| | | |\| |_) |/    |_&quot;_|  U | | u U | | u      | || |_          _ \| |/</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    U| |_| |\|  _ &lt;       | |    \| |/__ \| |/__     |__   _|        | |_| |_,-.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">     |____/ u|_| \_\    U/| |\u   |_____| |_____|      /|_|\          \___/-(_/</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      |||_   //   \\_.-,_|___|_,-.//  \\  //  \\      u_|||_u          _//</span></div><div class="token-line" style="color:#393A34"><span class="token plain">     (__)_) (__)  (__)\_)-&#x27; &#x27;-(_/(_&quot;)(&quot;_)(_&quot;)(&quot;_)     (__)__)         (__)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">     Autotest Agent (v0.23.1)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p><em>IMPORTANT!</em>
Maven does not print the Drill4J logs by default, you need to add the <code>-X</code> parameter to the command line:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mvn </span><span class="token builtin class-name">test</span><span class="token plain"> -X</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tests-do-not-appear-in-drill4j-after-running-in-maven-with-java-17"></a>Tests do not appear in Drill4J after running in Maven with Java 17<a class="hash-link" href="#tests-do-not-appear-in-drill4j-after-running-in-maven-with-java-17" title="Direct link to heading">#</a></h3><p>If you run tests in Maven with Java 17 or higher and see the following message:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly log"><div tabindex="0" class="prism-code language-log codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4659191b</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:159)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.util.proxy.DefineClassHelper$JavaOther.defineClass(DefineClassHelper.java:213)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.util.proxy.DefineClassHelper$Java11.defineClass(DefineClassHelper.java:52)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:260)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.ClassPool.toClass(ClassPool.java:1240)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    at com.epam.drill.autotest.shadow.javassist.CtClass.toClass(CtClass.java:1392)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You should provide <code>--add-opens</code> option to the JVM argument line in Maven Surefire Plugin:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-surefire-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">argLine</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">@{argLine} --add-opens java.base/java.lang=ALL-UNNAMED</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">argLine</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p><em>IMPORTANT!</em>
Don&#x27;t forget to add <code>@{argLine}</code> to keep Drill4J agents enabled.</p></blockquote></div><br><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/agents/test-agent"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Test Agent</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/drill-services/drill-backend"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Drill4J Backend </div></a></div></nav></article></main></div></div><footer class="bg-monochrome-light-tint border-t border-monochrome-medium-tint"><div class="navigationContainer"><section class="grid py-12 lg:py-16 grid-cols-1 md:grid-cols-8 lg:grid-cols-12 gap-x-5"><a href="/" class="col-span-full lg:col-span-4 mb-12 lg:mb-0"><img src="/imgs/drill4j-logo-grayscale.svg" alt="drill4j github"></a><div class="space-y-3 md:col-span-3 lg:col-span-3 lg:col-start-5"><ul></ul></div><div class="space-y-3 md:col-span-3 lg:col-span-3 lg:col-start-8"><ul></ul></div><div class="space-y-3 md:col-span-2 lg:col-span-3 lg:col-start-11"><ul><li class="mb-4 md:mb-2"><a href="https://github.com/Drill4J/realworld-java-and-js-coverage/" target="_blank" rel="noopener noreferrer" class="gray-link">Demo</a></li><li class="mb-4 md:mb-2"><a href="https://t.me/drill4j" target="_blank" rel="noopener noreferrer" class="gray-link">Contact us</a></li></ul></div></section><section class="flex flex-col gap-y-4 py-6 border-t border-monochrome-medium-tint sm:flex-row justify-between"><span class="flex flex-col gap-y-2 items-center gap-x-2 text-16 leading-24 text-monochrome-default sm:flex-row">Sponsored by<a href="https://www.epam.com/" target="_blank" rel="noopener noreferrer"><img src="/imgs/epam-logo.svg" alt="Epam"></a>Licensed under Apache v2.0</span><ul class="flex justify-center gap-x-4 items-center"><li><a href="https://github.com/Drill4J" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.999 0C5.373 0 0 5.509 0 12.304 0 17.74 3.438 22.351 8.207 23.98c.6.113.819-.267.819-.594 0-.292-.01-1.066-.017-2.092-3.337.743-4.042-1.65-4.042-1.65-.545-1.421-1.332-1.8-1.332-1.8-1.09-.762.082-.747.082-.747 1.205.087 1.838 1.268 1.838 1.268 1.07 1.88 2.81 1.337 3.493 1.022.109-.795.419-1.337.762-1.644-2.665-.312-5.467-1.367-5.467-6.081 0-1.344.468-2.442 1.236-3.302-.124-.311-.536-1.562.118-3.256 0 0 1.007-.33 3.3 1.26A11.258 11.258 0 0112 5.95a11.27 11.27 0 013.005.414c2.29-1.592 3.296-1.261 3.296-1.261.655 1.694.243 2.945.12 3.256.77.86 1.233 1.958 1.233 3.302 0 4.726-2.806 5.766-5.478 6.07.43.38.814 1.131.814 2.28 0 1.644-.015 2.97-.015 3.374 0 .33.217.712.825.592 4.765-1.63 8.2-6.238 8.2-11.673C24 5.51 18.627 0 11.999 0z"></path></svg></a></li><li><a href="https://t.me/drill4j" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.724 17.288c.188.133.43.166.646.084a.677.677 0 00.422-.49C16.3 14.5 17.53 8.47 17.99 6.303a.456.456 0 00-.152-.442.467.467 0 00-.465-.082c-2.445.906-9.978 3.732-13.057 4.871a.482.482 0 00-.316.466.483.483 0 00.346.446c1.38.413 3.193.987 3.193.987s.847 2.558 1.289 3.86a.511.511 0 00.351.335.506.506 0 00.473-.12l1.807-1.706s2.083 1.528 3.265 2.37zm-6.423-5.062l.98 3.23.217-2.045 5.942-5.358a.162.162 0 00.019-.22.166.166 0 00-.22-.038l-6.938 4.431z" fill="#F8F9FB"></path></svg></a></li><li><a href="https://www.youtube.com/channel/UCJtegUnUHr0bO6icF1CYjKw/featured" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"></path><path fill-rule="evenodd" d="M19.91 8.132a2.1 2.1 0 00-1.478-1.479C17.135 6.3 11.917 6.3 11.917 6.3s-5.218.01-6.514.364a2.1 2.1 0 00-1.479 1.479c-.392 2.303-.544 5.813.01 8.025a2.1 2.1 0 001.48 1.479C6.71 18 11.927 18 11.927 18s5.218 0 6.514-.353a2.101 2.101 0 001.479-1.48c.413-2.306.541-5.814-.01-8.035z" fill="#F8F9FB"></path><path d="M10.256 14.656l4.329-2.507-4.329-2.507v5.014z"></path></svg></a></li></ul></section></div></footer></div>
<script src="/assets/js/runtime~main.8fce62d2.js"></script>
<script src="/assets/js/main.abd0191d.js"></script>

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGTZFW2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    </body>
</html>